{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?04fe","webpack:///./src/views/Base.vue?4410","webpack:///./src/views/NewDialogPage.vue?44d0","webpack:///./src/App.vue?1ea9","webpack:///src/App.vue","webpack:///./src/App.vue?fb54","webpack:///./src/App.vue","webpack:///./src/views/Base.vue?c2f6","webpack:///src/views/Base.vue","webpack:///./src/views/Base.vue?d7f4","webpack:///./src/views/Base.vue","webpack:///./src/views/DialogPage.vue?9d0c","webpack:///./src/components/Dialog/Dialog.vue?ac26","webpack:///./src/components/Dialog/Talk.vue?ab23","webpack:///./src/components/Dialog/SysTalk.vue?51bc","webpack:///src/components/Dialog/SysTalk.vue","webpack:///./src/components/Dialog/SysTalk.vue?12d1","webpack:///./src/components/Dialog/SysTalk.vue","webpack:///./src/components/Dialog/UserTalk.vue?4a70","webpack:///src/components/Dialog/UserTalk.vue","webpack:///./src/components/Dialog/UserTalk.vue?813d","webpack:///./src/components/Dialog/UserTalk.vue","webpack:///src/components/Dialog/Talk.vue","webpack:///./src/components/Dialog/Talk.vue?16cd","webpack:///./src/components/Dialog/Talk.vue","webpack:///./src/components/ImageSimulator.vue?b0b5","webpack:///./src/components/ImageSelector.vue?e24f","webpack:///src/components/ImageSelector.vue","webpack:///./src/components/ImageSelector.vue?d1df","webpack:///./src/components/ImageSelector.vue","webpack:///src/components/ImageSimulator.vue","webpack:///./src/components/ImageSimulator.vue?5537","webpack:///./src/components/ImageSimulator.vue","webpack:///./src/components/ImageList.vue?598a","webpack:///src/components/ImageList.vue","webpack:///./src/components/ImageList.vue?72d8","webpack:///./src/components/ImageList.vue","webpack:///./src/store/user.js","webpack:///./src/store/robot.js","webpack:///./src/store/index.js","webpack:///./src/network/axios.js","webpack:///./src/network/interfaces/dialog.js","webpack:///src/components/Dialog/Dialog.vue","webpack:///./src/components/Dialog/Dialog.vue?e258","webpack:///./src/components/Dialog/Dialog.vue","webpack:///src/views/DialogPage.vue","webpack:///./src/views/DialogPage.vue?37f6","webpack:///./src/views/DialogPage.vue","webpack:///./src/views/NewDialogPage.vue?e613","webpack:///./src/components/Dialog/NewDialog.vue?8e4d","webpack:///src/components/Dialog/NewDialog.vue","webpack:///./src/components/Dialog/NewDialog.vue?db62","webpack:///./src/components/Dialog/NewDialog.vue","webpack:///src/views/NewDialogPage.vue","webpack:///./src/views/NewDialogPage.vue?591d","webpack:///./src/views/NewDialogPage.vue","webpack:///./src/views/ReviewPage.vue?de09","webpack:///./src/components/Dialog/Review.vue?9746","webpack:///src/components/Dialog/Review.vue","webpack:///./src/components/Dialog/Review.vue?4316","webpack:///./src/components/Dialog/Review.vue","webpack:///src/views/ReviewPage.vue","webpack:///./src/views/ReviewPage.vue?9c2f","webpack:///./src/views/ReviewPage.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/views/ReviewPage.vue?904b","webpack:///./src/components/Dialog/Dialog.vue?ec0b","webpack:///./src/components/ImageSelector.vue?7c67","webpack:///./src/components/Dialog/Review.vue?63bb","webpack:///./src/components/Dialog/UserTalk.vue?aaa7","webpack:///./src/components/ImageSimulator.vue?c169","webpack:///./src/views/DialogPage.vue?3c9a","webpack:///./src/components/Dialog/SysTalk.vue?1510","webpack:///./src/components/ImageList.vue?6ee1","webpack:///./src/components/Dialog/NewDialog.vue?912f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","component","staticClass","attrs","_v","on","exitLogin","enable_change_dialog","changeDialog","model","callback","$$v","current_dialog","expression","_l","item","index","staticStyle","_s","class","color","check_status","current_turn","lastTurn","getNextTurn","enable_save","saveImages","editTurn","setInputFocus","ref","image","swipe","doubleTap","singleTap","getScreenshot","goBack","home","inputText","clearInput","readBox","inputChar","selected","handleFocus","handleEdit","enable_edit","handleBlur","input","border","program","slot","text","props","url","methods","$emit","computed","table","colName","components","SysTalk","UserTalk","console","log","focus","directives","rawName","style","width","height","getImageBox","touchstart","touchmove","touchend","cancelAll","marginBottom","notice","$event","changeFocus","nativeOn","type","indexOf","_k","keyCode","arguments","marginTop","swipeButton","clear","confirmBox","getScreen","handleMouseDown","start_x","start_y","end_x","end_y","compute_size","event","preventDefault","offsetX","offsetY","document","body","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","mask_width","mask_height","top","mask_top","left","mask_left","resSetXY","Math","abs","bbox","box","touch","touchTimeout","tapTimeout","swipeTimeout","longTapTimeout","longTapDelay","gesture","now","delta","deltaX","deltaY","firstTouch","isPointerType","screen_width","screen_height","scale","loading","enable_select","image_box","mounted","setNotice","setLoading","setImage","trunc","direction","swipeDirection","x1","x2","y1","y2","longTap","last","el","trigger","cancelLongTap","clearTimeout","isPointerEventType","isPrimaryTouch","e","touches","undefined","Date","$refs","isDoubleTap","setTimeout","resetTouch","ImageSelector","container_class","highlight","selected_index","bigger","from","note","operation","to","_e","select","delete_image","sleep","time","Promise","image_list","clear_image","replace_image","new_image","get_saved_image","res","image_id","image_style","namespaced","state","session","isLogin","localStorage","user","user_id","token","mutations","setSession","setUser","exitUser","current_robot","JSON","parse","set_robot","stringify","edit_robot","robot","Vue","use","Vuex","Store","axios","Axios","debug","base_url","interceptors","response","Message","error","store","commit","router","replace","net_get_response","param","post","net_do_action","net_get_screenshot","net_get_dialog","params","net_start_record","net_end_record","net_reset","net_save","net_save_review","net_get_review","net_get_review_dialog","net_get_all_dialog","net_get_goal","net_add_turn","net_delete_turn","status","input_focus","dialog","full_dialog","all_dialog","enable_interact","last_action","recording","current_dialog_id","current_user","dialog_list","raw_images","layout_images","has_init","addTurn","insert_idx","new_message","deleteTurn","begin","origin","turn_index","handleSpace","simulator","dialog_id","getDialog","getImages","next_index","$alert","confirmButtonText","update_history","new_msg","isUser","submit","startsWith","input_text","pasteText","send_message","Talk","ImageSimulator","ImageList","get_goal","domProps","goals","lan_infos","nextTurn","changeViewMode","changeViewLayout","viewmode","viewLayout","message","idx","shown_images","Router","routes","path","Base","children","DialogPage","ReviewPage","NewDialogPage","ElementUI","config","productionTip","render","h","App","$mount"],"mappings":"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ACA,wCACA,iCACA,qBACA,uBAvBA,+CA0BI,UAlTJ,SAkTA,sKACA,kBADA,wDAEA,uBACA,wBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBAEA,YACA,eACA,EACA,wBAEA,0CACA,iCACA,qBACA,uBApBA,+CAuBI,OAzUJ,WAyUA,mKACA,kBADA,wDAEA,qBACA,gBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBACA,0CACA,2CACA,iCACA,qBACA,uBAfA,+CAkBI,KA3VJ,WA2VA,mKACA,kBADA,wDAEA,uBACA,gBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBACA,0CACA,2CACA,iCACA,qBACA,uBAfA,+CAkBI,MA7WJ,SA6WA,wKACA,kBADA,wDAEA,uBACA,uBACA,iCACA,qBACA,GACA,aACA,QACA,QACA,QACA,SAXA,SAaA,IACA,mBACA,WAfA,OAaA,EAbA,OAiBA,iBACA,mCACA,KACA,KACA,KACA,MAEA,YACA,+BAEA,4CACA,iCACA,qBACA,uBA9BA,+CAkCI,UA/YJ,SA+YA,sKACA,kBADA,wDAEA,qBACA,4BACA,iCACA,qBACA,+BANA,SAOA,IACA,mBACA,WATA,OAOA,EAPA,OAWA,iBACA,YACA,eACA,KACA,IACA,KACA,wBAEA,eACA,QACA,2BACA,SAEA,iCACA,qBACA,+BACA,uBA3BA,+CA+BIsB,UA9aJ,SA8aA,GACM6B,QAAQC,IAAI,aAAcsD,IAG5B,cAlbJ,SAkbA,wKACA,qBACA,6BACA,iCAHA,SAIA,yBAJA,OAIA,EAJA,OAKA,eACA,iBACA,iCACA,4CACA,WACA,4BACA,gBACA,eACA,oBACA,sBACA,wBAEA,kCAEA,qBAnBA,8CAsBIuJ,eAxcJ,SAwcA,KACMC,EAAQ,UAAYC,EACpBlR,KAAKqP,OAAOrS,KAAKiU,IAEnB,aA5cJ,SA4cA,4NACA,sBADA,SAEA,IACA,UACA,SAJA,UAEA,EAFA,OAMA,0BAEA,eARA,qBASA,kBATA,wBAUA,+BACA,0CACA,iCACA,gCACA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BADA,wDAEA,KACA,kBACA,KACA,oBACA,WACA,iCACA,qBARA,UASA,IACA,mBACA,WAXA,QASA,EATA,OAaA,iBAEA,YACA,iCAEA,wCACA,iCACA,qBACA,uBArBA,+CAwBI,QA7TJ,SA6TA,sKACA,kBADA,wDAEA,sBACA,GACA,YACA,gBACA,cACA,UACA,aAEA,iCACA,qBAXA,SAYA,IACA,mBACA,WAdA,OAYA,EAZA,OAiBA,iBAEA,0CACA,wCACA,iCACA,qBACA,uBAvBA,+CA0BI,UAvVJ,SAuVA,sKACA,kBADA,wDAEA,uBACA,wBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBAEA,YACA,eACA,EACA,wBAEA,0CACA,iCACA,qBACA,uBApBA,+CAuBI,OA9WJ,WA8WA,mKACA,kBADA,wDAEA,qBACA,gBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBACA,0CACA,2CACA,iCACA,qBACA,uBAfA,+CAkBI,KAhYJ,WAgYA,mKACA,kBADA,wDAEA,uBACA,gBACA,iCACA,qBALA,SAMA,IACA,mBACA,WARA,OAMA,EANA,OAUA,iBACA,0CACA,2CACA,iCACA,qBACA,uBAfA,+CAkBI,MAlZJ,SAkZA,wKACA,kBADA,wDAEA,uBACA,uBACA,iCACA,qBACA,GACA,aACA,QACA,QACA,QACA,SAXA,SAaA,IACA,mBACA,WAfA,OAaA,EAbA,OAiBA,iBACA,mCACA,KACA,KACA,KACA,MAEA,YACA,+BAEA,4CACA,iCACA,qBACA,uBA9BA,+CAkCI,UApbJ,SAobA,sKACA,kBADA,wDAEA,qBACA,4BACA,iCACA,qBACA,+BANA,SAOA,IACA,mBACA,WATA,OAOA,EAPA,OAWA,iBACA,YACA,eACA,KACA,IACA,KACA,wBAEA,eACA,QACA,2BACA,SAEA,iCACA,qBACA,+BACA,uBA3BA,+CA+BIsB,UAndJ,SAmdA,GACM6B,QAAQC,IAAI,aAAcsD,IAG5B,cAvdJ,SAudA,wKACA,qBACA,6BACA,iCAHA,SAIA,yBAJA,OAIA,EAJA,OAKA,e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","file":"js/app.fc8f616d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&id=c2233864&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialogPage.vue?vue&type=style&index=0&id=5f6e4c7b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <router-view/>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  \r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=569e19e3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"base-container\"},[_c('el-header',{staticClass:\"base-header\",attrs:{\"height\":\"50x\"}},[_c('el-row',[_c('el-col',{staticClass:\"nav-item\",attrs:{\"span\":18}},[_c('a',[_vm._v(\"IPA对话系统\")])])],1)],1),_c('el-main',{staticClass:\"base-main\"},[_c('router-view',{on:{\"exitLogin\":_vm.exitLogin}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-container class='base-container'>\r\n        <el-header :height='\"50x\"' class=\"base-header\">\r\n            <el-row>\r\n                <el-col class='nav-item' :span='18' ><a>IPA对话系统</a></el-col>\r\n                <!-- <el-col class='nav-item' :span='2' @click.native=\"changeTab('dialog')\" ><a>对话展示</a></el-col>\r\n                <el-col class='nav-item' :span='2' @click.native=\"changeTab('list')\"><a>控制台</a></el-col>\r\n                <el-col class='nav-item' :span='2' @click.native=\"changeTab('login')\" v-if=\"!isLogin\"><a>登录</a></el-col>\r\n                <el-col class='nav-item' :span='2' v-if=\"isLogin\">\r\n                    <el-dropdown>\r\n                        <span class=\"usn\">\r\n                            {{usn}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                        </span>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item @click.native=\"exitLogin\">退出登录</el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                    </el-dropdown>\r\n                </el-col> -->\r\n            </el-row>\r\n        </el-header>\r\n        <el-main class=\"base-main\">  \r\n            <router-view @exitLogin = \"exitLogin\"/>        \r\n        </el-main>\r\n    </el-container>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name:'Base',\r\n    data(){\r\n        return {\r\n            isLogin:false,\r\n            usn:''\r\n        }\r\n    },\r\n    methods:{\r\n        autoLogin:function(){\r\n            let usn = localStorage['usn'];\r\n            if (usn || this.$store.state.user.isLogin){\r\n                this.isLogin = true;\r\n                this.usn = usn || this.$store.state.user.user;\r\n            } else {\r\n                this.isLogin = false;\r\n                this.usn = '';\r\n            }\r\n        },\r\n        exitLogin:function(){\r\n            this.$store.commit('user/exitUser');\r\n            this.isLogin = false;\r\n            this.usn = '';\r\n            this.$router.replace('/dialog')\r\n        },\r\n        changeTab: function(target) {\r\n            if (target == 'login'){\r\n                this.$router.replace('/login');\r\n            } else if (target == 'list'){\r\n                if (!this.$store.state.user.isLogin){\r\n                    this.$router.replace('/login');\r\n                    return;\r\n                }\r\n                this.$router.replace('/list')\r\n            } else if (target == 'dialog'){\r\n                this.$router.replace('/dialog')\r\n            }\r\n        }\r\n    },\r\n    mounted:function(){\r\n        // this.autoLogin();\r\n        // if (!this.isLogin){\r\n        //         this.$router.replace('/dialog')\r\n        // }\r\n    },\r\n    beforeUpdate:function(){\r\n        this.autoLogin();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.base-header {\r\n    background-color: rgb(0, 21, 41);\r\n    color: white;\r\n    line-height: 40px;\r\n    font-size: 22px;\r\n    height: 6vh;\r\n}\r\n.base-container {\r\n    background-image: url('../assets/bg.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    height: 100vh;\r\n    padding: 0;\r\n}\r\n\r\n.base-main {\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 0;\r\n}\r\n.usn {\r\n    color:white;\r\n    font-size: 22px;\r\n}\r\n.nav-item {\r\n    cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Base.vue?vue&type=template&id=c2233864&scoped=true&\"\nimport script from \"./Base.vue?vue&type=script&lang=js&\"\nexport * from \"./Base.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Base.vue?vue&type=style&index=0&id=c2233864&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2233864\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('div',{staticClass:\"dialogPage-dialog\"},[_c('Dialog')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"dialog-main\"},[_c('div',{staticClass:\"dialog-header\"},[_c('el-select',{attrs:{\"disabled\":!_vm.enable_change_dialog,\"value-key\":\"name\",\"placeholder\":\"对话id\"},on:{\"change\":_vm.changeDialog},model:{value:(_vm.current_dialog),callback:function ($$v) {_vm.current_dialog=$$v},expression:\"current_dialog\"}},_vm._l((_vm.all_dialog),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.name))]),_c('span',{class:item.color,staticStyle:{\"float\":\"right\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(item.check_status))])])}),1),_vm._v(\" 当前轮数:\"+_vm._s(_vm.current_turn)+\" \")],1),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.lastTurn}},[_vm._v(\" 上一轮 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getNextTurn}},[_vm._v(\" 下一轮 \")]),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.enable_save},on:{\"click\":_vm.saveImages}},[_vm._v(\"保存 \"),_c('i',{staticClass:\"el-icon-video-pause\"})])],1),_c('div',{staticClass:\"dialog-dialog\",attrs:{\"id\":\"dialog-window\"}},_vm._l((_vm.dialog),function(item,index){return _c('Talk',{key:index,attrs:{\"data\":item,\"index\":index,\"selected\":index >= _vm.current_turn * 2 && index <= _vm.current_turn * 2 + 1},on:{\"editTurn\":_vm.editTurn,\"inputFocus\":_vm.setInputFocus}})}),1)],1)]),_c('el-col',{attrs:{\"span\":10}},[_c('ImageSimulator',{ref:\"simulator\",attrs:{\"image\":_vm.image},on:{\"swipe\":_vm.swipe,\"doubleTap\":_vm.doubleTap,\"singleTap\":_vm.singleTap,\"getScreen\":_vm.getScreenshot,\"goBack\":_vm.goBack,\"home\":_vm.home,\"input\":_vm.inputText,\"inputFocus\":_vm.setInputFocus,\"clear\":_vm.clearInput,\"read\":_vm.readBox,\"inputChar\":_vm.inputChar}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('ImageList',{ref:\"imageList\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data.isUser)?_c('UserTalk',{attrs:{\"data\":_vm.data,\"index\":_vm.index,\"selected\":_vm.selected},on:{\"inputFocus\":_vm.handleFocus,\"editTurn\":_vm.handleEdit}}):_c('SysTalk',{attrs:{\"data\":_vm.data,\"index\":_vm.index,\"selected\":_vm.selected},on:{\"inputFocus\":_vm.handleFocus,\"editTurn\":_vm.handleEdit}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talk-box\"},[_c('span',{staticClass:\"el-icon-user-solid avatar\"}),(!_vm.enable_edit)?_c('div',{staticClass:\"text-box\",class:{border: _vm.selected},on:{\"dblclick\":_vm.handleEdit}},[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"title\":\"参考翻译:\",\"width\":\"300\",\"trigger\":\"hover\",\"content\":_vm.data.program}},[_c('div',{staticClass:\"text-box\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(_vm.data.text))])])],1):_c('el-input',{attrs:{\"autofocus\":\"\"},on:{\"blur\":_vm.handleBlur},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"talk-box\">\r\n    <span class=\"el-icon-user-solid avatar\"></span>\r\n    <div v-if=\"!enable_edit\" class=\"text-box\" :class=\"{border: selected}\" @dblclick=\"handleEdit\">\r\n      <el-popover\r\n        placement=\"bottom\"\r\n        title=\"参考翻译:\"\r\n        width=\"300\"\r\n        trigger=\"hover\"\r\n        :content=\"data.program\"\r\n      >\r\n        <div slot=\"reference\" class=\"text-box\">{{ data.text }}</div>\r\n      </el-popover>\r\n    </div>\r\n    <el-input v-else autofocus v-model=\"input\" @blur=\"handleBlur\"></el-input>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"data\", \"index\",\"selected\"],\r\n  data() {\r\n    return {\r\n      url: \"\",\r\n      enable_edit: false,\r\n      input:\"\"\r\n    };\r\n  },\r\n  methods: {\r\n    handleEdit() {\r\n      this.input = this.data.text;\r\n      this.enable_edit = true;\r\n      this.$emit(\"inputFocus\", true);\r\n    },\r\n    handleBlur() {\r\n      this.enable_edit = false;\r\n      this.$emit(\"inputFocus\", false);\r\n      this.$emit(\"editTurn\", this.index, this.input);\r\n    },\r\n  },\r\n  computed: {\r\n    table: function () {\r\n      return this.data.table;\r\n    },\r\n    colName: function () {\r\n      if (this.data.colName) return this.data.colName;\r\n      let colName = {};\r\n      for (let col in this.data.table[0]) colName[col] = col;\r\n      return colName;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.border {\r\n  border: black 2px solid;\r\n}\r\n\r\n.talk-table {\r\n  width: 60%;\r\n}\r\n.talk-box {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 10px;\r\n  padding-left: 20px;\r\n}\r\n.text-box {\r\n  background-color: rgb(246, 246, 246);\r\n  min-height: 40px;\r\n  max-width: 540px;\r\n  border-radius: 15px;\r\n  font-size: 20px;\r\n  line-height: 40px;\r\n  padding-left: 5px;\r\n  display: inline-block;\r\n  margin: 5px;\r\n  padding: 0 15px;\r\n}\r\n.avatar {\r\n  display: inline-block;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 20px;\r\n  font-size: 30px;\r\n  background-color: rgb(192, 196, 204);\r\n  line-height: 40px;\r\n  color: white;\r\n  text-align: center;\r\n  margin: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./SysTalk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./SysTalk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SysTalk.vue?vue&type=template&id=d7e13760&scoped=true&\"\nimport script from \"./SysTalk.vue?vue&type=script&lang=js&\"\nexport * from \"./SysTalk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SysTalk.vue?vue&type=style&index=0&id=d7e13760&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7e13760\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talk-box\"},[(!_vm.enable_edit)?_c('span',{staticClass:\"text-box\",class:{ border: _vm.selected },on:{\"dblclick\":_vm.handleEdit}},[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"title\":\"参考翻译:\",\"width\":\"300\",\"trigger\":\"hover\",\"content\":_vm.data.program}},[_c('div',{staticClass:\"text-box\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(_vm.data.text))])])],1):_c('el-input',{attrs:{\"autofocus\":\"\"},on:{\"blur\":_vm.handleBlur},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('span',{staticClass:\"el-icon-user-solid avatar\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"talk-box\">\r\n    <span\r\n      v-if=\"!enable_edit\"\r\n      class=\"text-box\"\r\n      :class=\"{ border: selected }\"\r\n      @dblclick=\"handleEdit\"\r\n    >\r\n      <el-popover\r\n        placement=\"bottom\"\r\n        title=\"参考翻译:\"\r\n        width=\"300\"\r\n        trigger=\"hover\"\r\n        :content=\"data.program\"\r\n      >\r\n        <div slot=\"reference\" class=\"text-box\">{{ data.text }}</div>\r\n      </el-popover>\r\n    </span>\r\n    <el-input v-else autofocus v-model=\"input\" @blur=\"handleBlur\"></el-input>\r\n    <span class=\"el-icon-user-solid avatar\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"data\", \"index\", \"selected\"],\r\n  data() {\r\n    return {\r\n      url: \"\",\r\n      enable_edit: false,\r\n      input: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    handleEdit() {\r\n      this.input = this.data.text;\r\n      this.enable_edit = true;\r\n      this.$emit(\"inputFocus\", true);\r\n    },\r\n    handleBlur() {\r\n      this.enable_edit = false;\r\n      this.$emit(\"inputFocus\", false);\r\n      this.$emit(\"editTurn\", this.index, this.input);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.border {\r\n  border: black 2px solid;\r\n}\r\n\r\n.talk-box {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: auto;\r\n  margin-top: 10px;\r\n  padding-right: 20px;\r\n}\r\n.text-box {\r\n  background-color: rgb(227, 239, 253);\r\n  min-height: 40px;\r\n  border-radius: 15px;\r\n  font-size: 20px;\r\n  line-height: 40px;\r\n  padding-left: 5px;\r\n  display: inline-block;\r\n  margin: 5px;\r\n  padding: 0 15px;\r\n}\r\n.avatar {\r\n  display: inline-block;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 20px;\r\n  font-size: 30px;\r\n  background-color: rgb(192, 196, 204);\r\n  line-height: 40px;\r\n  color: white;\r\n  text-align: center;\r\n  margin: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./UserTalk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./UserTalk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTalk.vue?vue&type=template&id=71b96a5f&scoped=true&\"\nimport script from \"./UserTalk.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTalk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserTalk.vue?vue&type=style&index=0&id=71b96a5f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71b96a5f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <UserTalk\r\n    @inputFocus=\"handleFocus\"\r\n    @editTurn=\"handleEdit\"\r\n    v-if=\"data.isUser\"\r\n    :data=\"data\"\r\n    :index=\"index\"\r\n    :selected=\"selected\"\r\n  ></UserTalk>\r\n  <SysTalk\r\n    @inputFocus=\"handleFocus\"\r\n    @editTurn=\"handleEdit\"\r\n    v-else\r\n    :data=\"data\"\r\n    :index=\"index\"\r\n    :selected=\"selected\"\r\n  ></SysTalk>\r\n</template>\r\n\r\n<script>\r\nimport SysTalk from \"./SysTalk\";\r\nimport UserTalk from \"./UserTalk\";\r\n\r\nexport default {\r\n  props: [\"data\", \"index\", \"selected\"],\r\n  components: {\r\n    SysTalk,\r\n    UserTalk,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    handleFocus(focus) {\r\n      console.log(\"focus\", focus);\r\n      this.$emit(\"inputFocus\", focus);\r\n    },\r\n    handleEdit(index, text) {\r\n      console.log(\"edit turn\", index, text);\r\n      this.$emit(\"editTurn\", index, text);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Talk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Talk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Talk.vue?vue&type=template&id=5365b570&scoped=true&\"\nimport script from \"./Talk.vue?vue&type=script&lang=js&\"\nexport * from \"./Talk.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5365b570\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],style:({ width: _vm.width, height: _vm.height })},[(_vm.enable_select)?_c('ImageSelector',{attrs:{\"image\":_vm.image,\"width\":_vm.width,\"height\":_vm.height},on:{\"box\":_vm.getImageBox}}):_c('img',{ref:\"image\",attrs:{\"src\":_vm.image,\"id\":\"screen\",\"width\":_vm.width,\"height\":_vm.height,\"draggable\":\"false\"},on:{\"touchstart\":_vm.touchstart,\"MSPointerDown\":_vm.touchstart,\"pointerdown\":_vm.touchstart,\"touchmove\":_vm.touchmove,\"MSPointerMove\":_vm.touchmove,\"pointermove\":_vm.touchmove,\"touchend\":_vm.touchend,\"MSPointerUp\":_vm.touchend,\"pointerup\":_vm.touchend,\"touchcancel\":_vm.cancelAll,\"MSPointerCancel\":_vm.cancelAll,\"pointercancel\":_vm.cancelAll}})],1)]),_c('el-col',{attrs:{\"span\":10}},[_c('el-card',{style:({ marginBottom: '10px' })},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"状态提示\")])]),_c('div',[_vm._v(_vm._s(_vm.notice))])]),_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"操作\")])]),_c('div',{staticClass:\"dialog-input\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},on:{\"focus\":function($event){return _vm.changeFocus(true)},\"blur\":function($event){return _vm.changeFocus(false)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.inputText.apply(null, arguments)}},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-s-promotion\",\"type\":\"success\"},on:{\"click\":_vm.inputText},slot:\"append\"})],1)],1),_c('el-button-group',{style:({ marginTop: '10px' })},[_c('el-button',{attrs:{\"icon\":\"el-icon-back\"},on:{\"click\":function($event){return _vm.swipeButton('left')}}},[_vm._v(\"左滑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-right\"},on:{\"click\":function($event){return _vm.swipeButton('right')}}},[_vm._v(\"右滑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-top\"},on:{\"click\":function($event){return _vm.swipeButton('up')}}},[_vm._v(\"上滑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-bottom\"},on:{\"click\":function($event){return _vm.swipeButton('down')}}},[_vm._v(\"下滑\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-back\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-check\"},on:{\"click\":function($event){return _vm.inputChar('enter')}}},[_vm._v(\"回车\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-check\"},on:{\"click\":_vm.home}},[_vm._v(\"返回桌面\")]),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.clear}},[_vm._v(\"清除输入\")])],1),_c('el-button-group',{style:({ marginTop: '10px', marginBottom: '10px' })},[_c('el-button',{attrs:{\"icon\":\"el-icon-view\"},on:{\"click\":_vm.readBox}},[_vm._v(\"读取\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-view\"},on:{\"click\":_vm.confirmBox}},[_vm._v(\"读取确认\")])],1),_c('el-button',{attrs:{\"icon\":\"el-icon-camera\",\"type\":\"primary\"},on:{\"click\":_vm.getScreen}},[_vm._v(\"截图\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selector-box\",attrs:{\"width\":_vm.width,\"height\":_vm.height},on:{\"mousedown\":_vm.handleMouseDown}},[_c('div',{staticClass:\"mask\",style:(_vm.bbox)}),_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.image,\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    @mousedown=\"handleMouseDown\"\n    class=\"selector-box\"\n    :width=\"width\"\n    :height=\"height\"\n  >\n    <div class=\"mask\" :style=\"bbox\"></div>\n    <img class=\"image\" :src=\"image\" :width=\"width\" :height=\"height\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  // https://segmentfault.com/a/1190000023072352\n  name: \"ImageSelector\",\n  props: [\"image\", \"width\", \"height\"],\n  data() {\n    return {\n      start_x: 0,\n      start_y: 0,\n      end_x: 0,\n      end_y: 0,\n      compute_size: false,\n    };\n  },\n  methods: {\n    handleMouseDown(event) {\n      event.preventDefault();\n      //   this.resSetXY();\n      this.compute_size = false;\n      this.start_x = event.offsetX;\n      this.start_y = event.offsetY;\n\n      document.body.addEventListener(\"mousemove\", this.handleMouseMove);\n      document.body.addEventListener(\"mouseup\", this.handleMouseUp);\n    },\n    handleMouseMove(event) {\n      this.compute_size = true;\n      this.end_x = event.offsetX;\n      this.end_y = event.offsetY;\n    },\n    handleMouseUp() {\n      document.body.removeEventListener(\"mousemove\", this.handleMouseMove);\n      document.body.removeEventListener(\"mouseup\", this.handleMouseUp);\n      this.$emit(\"box\", {\n        width: this.mask_width,\n        height: this.mask_height,\n        top: this.mask_top,\n        left: this.mask_left,\n      });\n    },\n    resSetXY() {\n      this.start_x = 0;\n      this.start_y = 0;\n      this.end_x = 0;\n      this.end_y = 0;\n    },\n  },\n  computed: {\n    mask_top: function () {\n      return this.start_y < this.end_y ? this.start_y : this.end_y;\n    },\n    mask_left: function () {\n      return this.start_x < this.end_x ? this.start_x : this.end_x;\n    },\n    mask_width: function () {\n      return Math.abs(this.start_x - this.end_x);\n    },\n    mask_height: function () {\n      return Math.abs(this.start_y - this.end_y);\n    },\n    bbox: function () {\n      if (this.compute_size) {\n        let box =\n          \"width:\" +\n          this.mask_width +\n          \"px;left:\" +\n          this.mask_left +\n          \"px;height:\" +\n          this.mask_height +\n          \"px;top:\" +\n          this.mask_top +\n          \"px;\";\n        return box;\n      } else {\n        return (\n          \"width:\" +\n          0 +\n          \"px;left:\" +\n          0 +\n          \"px;height:\" +\n          0 +\n          \"px;top:\" +\n          0 +\n          \"px;\"\n        );\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.selector-box {\n  position: relative;\n  background: gray;\n}\n.mask {\n  position: absolute;\n  background: white;\n  opacity: 1;\n}\n.image {\n  opacity: 0.8;\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageSelector.vue?vue&type=template&id=41a1cdba&scoped=true&\"\nimport script from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageSelector.vue?vue&type=style&index=0&id=41a1cdba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41a1cdba\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"12\">\r\n        <div v-loading=\"loading\" :style=\"{ width: width, height: height }\">\r\n          <ImageSelector\r\n            v-if=\"enable_select\"\r\n            :image=\"image\"\r\n            :width=\"width\"\r\n            :height=\"height\"\r\n            @box=\"getImageBox\"\r\n          ></ImageSelector>\r\n          <img\r\n            v-else\r\n            :src=\"image\"\r\n            ref=\"image\"\r\n            id=\"screen\"\r\n            :width=\"width\"\r\n            :height=\"height\"\r\n            draggable=\"false\"\r\n            @touchstart=\"touchstart\"\r\n            @MSPointerDown=\"touchstart\"\r\n            @pointerdown=\"touchstart\"\r\n            @touchmove=\"touchmove\"\r\n            @MSPointerMove=\"touchmove\"\r\n            @pointermove=\"touchmove\"\r\n            @touchend=\"touchend\"\r\n            @MSPointerUp=\"touchend\"\r\n            @pointerup=\"touchend\"\r\n            @touchcancel=\"cancelAll\"\r\n            @MSPointerCancel=\"cancelAll\"\r\n            @pointercancel=\"cancelAll\"\r\n          />\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"10\">\r\n        <el-card :style=\"{ marginBottom: '10px' }\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>状态提示</span>\r\n          </div>\r\n          <div>{{ notice }}</div>\r\n        </el-card>\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>操作</span>\r\n          </div>\r\n          <div class=\"dialog-input\">\r\n            <el-input\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"input\"\r\n              @focus=\"changeFocus(true)\"\r\n              @blur=\"changeFocus(false)\"\r\n              @keyup.enter.native=\"inputText\"\r\n            >\r\n              <el-button\r\n                slot=\"append\"\r\n                icon=\"el-icon-s-promotion\"\r\n                type=\"success\"\r\n                @click=\"inputText\"\r\n              ></el-button>\r\n            </el-input>\r\n          </div>\r\n          <el-button-group :style=\"{ marginTop: '10px' }\">\r\n            <el-button icon=\"el-icon-back\" @click=\"swipeButton('left')\"\r\n              >左滑</el-button\r\n            >\r\n            <el-button icon=\"el-icon-right\" @click=\"swipeButton('right')\"\r\n              >右滑</el-button\r\n            >\r\n            <el-button icon=\"el-icon-top\" @click=\"swipeButton('up')\"\r\n              >上滑</el-button\r\n            >\r\n            <el-button icon=\"el-icon-bottom\" @click=\"swipeButton('down')\"\r\n              >下滑</el-button\r\n            >\r\n            <el-button icon=\"el-icon-back\" @click=\"goBack\">返回</el-button>\r\n            <!-- <el-button @click=\"inputChar('space')\">空格</el-button> -->\r\n            <el-button icon=\"el-icon-check\" @click=\"inputChar('enter')\"\r\n              >回车</el-button\r\n            >\r\n            <el-button icon=\"el-icon-check\" @click=\"home\"\r\n              >返回桌面</el-button\r\n            >\r\n            <el-button type=\"plain\" @click=\"clear\">清除输入</el-button>\r\n          </el-button-group>\r\n          <el-button-group :style=\"{ marginTop: '10px', marginBottom: '10px' }\">\r\n            <el-button icon=\"el-icon-view\" @click=\"readBox\">读取</el-button>\r\n            <el-button icon=\"el-icon-view\" @click=\"confirmBox\"\r\n              >读取确认</el-button\r\n            >\r\n          </el-button-group>\r\n          <el-button icon=\"el-icon-camera\" @click=\"getScreen\" type=\"primary\">截图</el-button>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageSelector from \"./ImageSelector.vue\";\r\nexport default {\r\n  name: \"ImageSimulator\",\r\n  data() {\r\n    return {\r\n      touch: {},\r\n      touchTimeout: null,\r\n      tapTimeout: null,\r\n      swipeTimeout: null,\r\n      longTapTimeout: null,\r\n      longTapDelay: 750,\r\n      gesture: null,\r\n\r\n      now: null,\r\n      delta: 0,\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      firstTouch: null,\r\n      isPointerType: false,\r\n\r\n      screen_width: 1440,\r\n      screen_height: 2560,\r\n      scale: 0.25,\r\n\r\n      image: null,\r\n      loading: false,\r\n      input: \"\",\r\n\r\n      enable_select: false,\r\n      image_box: null,\r\n\r\n      notice: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    width: function () {\r\n      return this.screen_width * this.scale + \"px\";\r\n    },\r\n    height: function () {\r\n      return this.screen_height * this.scale + \"px\";\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.$emit(\"getScreen\", \"init\");\r\n    this.loading = true;\r\n  },\r\n  methods: {\r\n    changeFocus(focus) {\r\n      this.$emit(\"inputFocus\", focus);\r\n    },\r\n    setNotice(notice) {\r\n      this.notice = notice;\r\n    },\r\n    setLoading(loading) {\r\n      this.loading = loading;\r\n    },\r\n    getImageBox(box) {\r\n      this.image_box = box;\r\n      console.log(box);\r\n    },\r\n    inputText() {\r\n      if (this.input == \"\") return;\r\n      this.$emit(\"input\", this.input);\r\n      this.input = \"\";\r\n      // this.loading = true;\r\n    },\r\n    setImage(image) {\r\n      this.image = image;\r\n      this.loading = false;\r\n    },\r\n    readBox() {\r\n      this.enable_select = true;\r\n    },\r\n    inputChar(c) {\r\n      this.$emit(\"inputChar\", c);\r\n    },\r\n    confirmBox() {\r\n      if (!this.image_box) return;\r\n      this.enable_select = false;\r\n      this.image_box.height = Math.trunc(this.image_box.height / this.scale);\r\n      this.image_box.width = Math.trunc(this.image_box.width / this.scale);\r\n      this.image_box.top = Math.trunc(this.image_box.top / this.scale);\r\n      this.image_box.left = Math.trunc(this.image_box.left / this.scale);\r\n      this.$emit(\"read\", this.image_box);\r\n    },\r\n    clear() {\r\n      this.$emit(\"clear\");\r\n      // this.loading = true;\r\n    },\r\n    getScreen() {\r\n      this.$emit(\"getScreen\");\r\n      this.loading = true;\r\n    },\r\n    goBack() {\r\n      this.$emit(\"goBack\");\r\n      // this.loading = true;\r\n    },\r\n    home(){\r\n      this.$emit(\"home\");\r\n    },\r\n    swipeButton(direction) {\r\n      let middle_x = Math.trunc(this.screen_width / 2);\r\n      let middle_y = Math.trunc(this.screen_height / 2);\r\n      let up = Math.trunc(this.screen_height / 3);\r\n      let down = Math.trunc((this.screen_height / 3) * 2);\r\n      let right = Math.trunc((this.screen_width / 3) * 2);\r\n      let left = Math.trunc(this.screen_width / 3);\r\n      if (direction == \"left\")\r\n        this.$emit(\"swipe\", {\r\n          x1: right,\r\n          x2: left,\r\n          y1: middle_y,\r\n          y2: middle_y,\r\n        });\r\n      else if (direction == \"right\")\r\n        this.$emit(\"swipe\", {\r\n          x1: left,\r\n          x2: right,\r\n          y1: middle_y,\r\n          y2: middle_y,\r\n        });\r\n      else if (direction == \"up\")\r\n        this.$emit(\"swipe\", { x1: middle_x, x2: middle_x, y1: down, y2: up });\r\n      else\r\n        this.$emit(\"swipe\", { x1: middle_x, x2: middle_x, y1: up, y2: down });\r\n      console.log(direction);\r\n    },\r\n    // https://github.com/qianlongo/zepto-analysis/issues/13\r\n    swipeDirection(x1, x2, y1, y2) {\r\n      /**\r\n       * 1. 第一个三元运算符得到如果x轴滑动的距离比y轴大，那么是左右滑动，否则是上下滑动\r\n       * 2. 如果是左右滑动，起点比终点大那么往左滑动\r\n       * 3. 如果是上下滑动，起点比终点大那么往上滑动\r\n       * 需要注意的是这里的坐标和数学中的有些不一定 纵坐标有点反过来的意思\r\n       * 起点p1(1, 0) 终点p2(1, 1)\r\n       */\r\n      return Math.abs(x1 - x2) >= Math.abs(y1 - y2)\r\n        ? x1 - x2 > 0\r\n          ? \"左\"\r\n          : \"右\"\r\n        : y1 - y2 > 0\r\n        ? \"上\"\r\n        : \"下\";\r\n    },\r\n    longTap() {\r\n      this.longTapTimeout = null;\r\n      if (this.touch.last) {\r\n        // 触发el元素的longTap事件\r\n        this.touch.el.trigger(\"longTap\");\r\n        this.touch = {};\r\n      }\r\n    },\r\n    // 取消长按\r\n    cancelLongTap() {\r\n      if (this.longTapTimeout) clearTimeout(this.longTapTimeout);\r\n      this.longTapTimeout = null;\r\n    },\r\n\r\n    // 取消所有事件\r\n    cancelAll() {\r\n      if (this.touchTimeout) clearTimeout(this.touchTimeout);\r\n      if (this.tapTimeout) clearTimeout(this.tapTimeout);\r\n      if (this.swipeTimeout) clearTimeout(this.swipeTimeout);\r\n      if (this.longTapTimeout) clearTimeout(this.longTapTimeout);\r\n      this.touchTimeout =\r\n        this.tapTimeout =\r\n        this.swipeTimeout =\r\n        this.longTapTimeout =\r\n          null;\r\n      this.touch = {};\r\n    },\r\n    isPointerEventType(e, type) {\r\n      return (\r\n        e.type == \"pointer\" + type || e.type.toLowerCase() == \"mspointer\" + type\r\n      );\r\n    },\r\n    isPrimaryTouch(event) {\r\n      return (\r\n        (event.pointerType == \"mouse\" ||\r\n          event.pointerType == event.MSPOINTER_TYPE_TOUCH) &&\r\n        event.isPrimary\r\n      );\r\n    },\r\n    touchstart(e) {\r\n      if (\r\n        (this.isPointerType = this.isPointerEventType(e, \"down\")) &&\r\n        !this.isPrimaryTouch(e)\r\n      )\r\n        return;\r\n      // 如果是pointerdown事件则firstTouch保存为e，否则是e.touches第一个\r\n      this.firstTouch = this.isPointerType ? e : e.touches[0];\r\n      // 一般情况下，在touchend或者cancel的时候，会将其清除，如果用户调阻止了默认事件，则有可能清空不了\r\n      if (e.touches && e.touches.length === 1 && this.touch.x2) {\r\n        // Clear out touch movement data if we have it sticking around\r\n        // This can occur if touchcancel doesn't fire due to preventDefault, etc.\r\n        this.touch.x2 = undefined;\r\n        this.touch.y2 = undefined;\r\n      }\r\n      // 保存当前时间\r\n      this.now = Date.now();\r\n      // 保存两次点击时候的时间间隔，主要用作双击事件\r\n      this.delta = this.now - (this.touch.last || this.now);\r\n      // touch.el 保存目标节点\r\n      // 不是标签节点则使用该节点的父节点，注意有伪元素\r\n      this.touch.el = this.$refs.image;\r\n      // touchTimeout 存在则清除之，可以避免重复触发\r\n      this.touchTimeout && clearTimeout(this.touchTimeout);\r\n      // 记录起始点坐标（x1, y1）（x轴，y轴）\r\n      this.touch.x1 = this.firstTouch.offsetX;\r\n      this.touch.y1 = this.firstTouch.offsetY;\r\n      // 两次点击的时间间隔 > 0 且 < 250 毫秒，则当做doubleTap事件处理\r\n      if (this.delta > 0 && this.delta <= 250) this.touch.isDoubleTap = true;\r\n      // 将now设置为touch.last，方便上面可以计算两次点击的时间差\r\n      this.touch.last = this.now;\r\n      // longTapDelay(750毫秒)后触发长按事件\r\n      this.longTapTimeout = setTimeout(this.longTap, this.longTapDelay);\r\n    },\r\n    touchmove(e) {\r\n      if (\r\n        (this.isPointerType = this.isPointerEventType(e, \"move\")) &&\r\n        !this.isPrimaryTouch(e)\r\n      )\r\n        return;\r\n      if (!this.touch.x1) return;\r\n      this.firstTouch = this.isPointerType ? e : e.touches[0];\r\n      // 取消长按事件，都移动了，当然不是长按了\r\n      this.cancelLongTap();\r\n      // 终点坐标 (x2, y2)\r\n      this.touch.x2 = this.firstTouch.offsetX;\r\n      this.touch.y2 = this.firstTouch.offsetY;\r\n      // 分别记录X轴和Y轴的变化量\r\n      this.deltaX += Math.abs(this.touch.x1 - this.touch.x2);\r\n      this.deltaY += Math.abs(this.touch.y1 - this.touch.y2);\r\n    },\r\n    touchend(e) {\r\n      if (\r\n        (this.isPointerType = this.isPointerEventType(e, \"up\")) &&\r\n        !this.isPrimaryTouch(e)\r\n      )\r\n        return;\r\n\r\n      // 取消长按事件\r\n      this.cancelLongTap();\r\n      // 滑动事件，只要X轴或者Y轴的起始点和终点的距离超过30则认为是滑动，并触发滑动(swip)事件,\r\n      // 紧接着马上触发对应方向的swip事件（swipLeft, swipRight, swipUp, swipDown）\r\n      // swipe\r\n      if (\r\n        (this.touch.x2 && Math.abs(this.touch.x1 - this.touch.x2) > 30) ||\r\n        (this.touch.y2 && Math.abs(this.touch.y1 - this.touch.y2) > 30)\r\n      )\r\n        this.swipeTimeout = setTimeout(() => {\r\n          if (this.touch.el) {\r\n            this.$emit(\"swipe\", this.resetTouch(this.touch));\r\n            // this.loading = true;\r\n          }\r\n          this.touch = {};\r\n        }, 0);\r\n      // touch对象的last属性，在touchstart事件中添加，所以触发了start事件便会存在\r\n      // normal tap\r\n      else if (\"last\" in this.touch)\r\n        if (this.deltaX < 30 && this.deltaY < 30) {\r\n          // don't fire tap when delta position changed by more than 30 pixels,\r\n          // for instance when moving to a point and back to origin\r\n          // 只有当X轴和Y轴的变化量都小于30的时候，才认为有可能触发tap事件\r\n          // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\r\n          // ('tap' fires before 'scroll')\r\n          this.tapTimeout = setTimeout(() => {\r\n            // trigger universal 'tap' with the option to cancelTouch()\r\n            // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\r\n            // 创建自定义事件\r\n            //   var event = $.Event(\"tap\");\r\n            // 往自定义事件中添加cancelTouch回调函数，这样使用者可以通过该方法取消所有的事件\r\n            //   event.cancelTouch = cancelAll;\r\n            // [by paper] fix -> \"TypeError: 'undefined' is not an object (evaluating 'touch.el.trigger'), when double tap\r\n            // 当目标元素存在，触发tap自定义事件\r\n\r\n            // trigger double tap immediately\r\n            // 如果是doubleTap事件，则触发之，并清除touch\r\n            if (this.touch.isDoubleTap) {\r\n              if (this.touch.el) {\r\n                this.$emit(\"doubleTap\", this.resetTouch(this.touch));\r\n              }\r\n              this.touch = {};\r\n            }\r\n\r\n            // trigger single tap after 250ms of inactivity\r\n            // 否则在250毫秒之后。触发单击事件\r\n            else {\r\n              this.touchTimeout = setTimeout(() => {\r\n                this.touchTimeout = null;\r\n                if (this.touch.el) {\r\n                  this.$emit(\"singleTap\", this.resetTouch(this.touch));\r\n                  // this.loading = true;\r\n                }\r\n                this.touch = {};\r\n              }, 250);\r\n            }\r\n          }, 0);\r\n        } else {\r\n          // 不是tap相关的事件\r\n          this.touch = {};\r\n        }\r\n      // 最后将变化量信息清空\r\n      this.deltaX = this.deltaY = 0;\r\n    },\r\n    resetTouch(touch) {\r\n      touch.x1 = Math.trunc(touch.x1 / this.scale);\r\n      touch.x2 = Math.trunc(touch.x2 / this.scale);\r\n      touch.y1 = Math.trunc(touch.y1 / this.scale);\r\n      touch.y2 = Math.trunc(touch.y2 / this.scale);\r\n      return touch;\r\n    },\r\n  },\r\n  components: {\r\n    ImageSelector,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-input-box {\r\n  width: 360px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSimulator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSimulator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageSimulator.vue?vue&type=template&id=67f07784&scoped=true&\"\nimport script from \"./ImageSimulator.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageSimulator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageSimulator.vue?vue&type=style&index=0&id=67f07784&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67f07784\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.container_class,attrs:{\"id\":\"image-container\"}},[_c('h2',[_vm._v(\"截图列表\")]),_vm._l((_vm.image_list),function(item,index){return _c('div',{key:index,staticClass:\"image-item\",class:{ highlight: _vm.selected_index == index }},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":_vm.bigger ? 11 : 9}},[_c('el-image',{style:(_vm.image_style),attrs:{\"src\":item.from,\"fit\":\"fill\",\"preview-src-list\":[item.from]}})],1),_c('el-col',{attrs:{\"span\":_vm.bigger ? 4 : 4}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":item.note,\"placement\":\"bottom\",\"disabled\":item.note == ''}},[_c('el-tag',{staticClass:\"operation\"},[_vm._v(_vm._s(item.operation == \"\" ? \"等待操作\" : item.operation))])],1)],1),_c('el-col',{attrs:{\"span\":_vm.bigger ? 11 : 9}},[(item.to)?_c('el-image',{style:(_vm.image_style),attrs:{\"src\":item.to,\"fit\":\"fill\",\"preview-src-list\":[item.to]}}):_vm._e()],1)],1),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.select(index)}}},[_vm._v(\"从下方插入\"),_c('i',{staticClass:\"el-icon-refresh\"})]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delete_image(index)}}},[_vm._v(\"删除\"),_c('i',{staticClass:\"el-icon-refresh\"})])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"container_class\" id=\"image-container\">\n    <h2>截图列表</h2>\n    <div\n      v-for=\"(item, index) in image_list\"\n      :key=\"index\"\n      class=\"image-item\"\n      :class=\"{ highlight: selected_index == index }\"\n    >\n      <el-row type=\"flex\" justify=\"center\">\n        <el-col :span=\"bigger ? 11 : 9\"\n          ><el-image\n            :style=\"image_style\"\n            :src=\"item.from\"\n            fit=\"fill\"\n            :preview-src-list=\"[item.from]\"\n          ></el-image\n        ></el-col>\n        <el-col :span=\"bigger ? 4 : 4\">\n          <el-tooltip\n            effect=\"dark\"\n            :content=\"item.note\"\n            placement=\"bottom\"\n            :disabled=\"item.note == ''\"\n          >\n            <el-tag class=\"operation\">{{\n              item.operation == \"\" ? \"等待操作\" : item.operation\n            }}</el-tag>\n          </el-tooltip>\n        </el-col>\n        <el-col :span=\"bigger ? 11 : 9\"\n          ><el-image\n            v-if=\"item.to\"\n            :style=\"image_style\"\n            :src=\"item.to\"\n            fit=\"fill\"\n            :preview-src-list=\"[item.to]\"\n          >\n          </el-image\n        ></el-col>\n      </el-row>\n      <el-button type=\"primary\" size=\"small\" @click=\"select(index)\"\n        >从下方插入<i class=\"el-icon-refresh\"></i\n      ></el-button>\n      <el-button type=\"danger\" size=\"small\" @click=\"delete_image(index)\"\n        >删除<i class=\"el-icon-refresh\"></i\n      ></el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nfunction sleep(time) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport default {\n  name: \"ImageList\",\n  props: [\"bigger\"],\n  data() {\n    return {\n      image_list: [],\n      selected_index: -1,\n    };\n  },\n  // updated: function () {\n  //   let body = document.getElementById(\"image-container\");\n  //   body.scrollTop = body.scrollHeight;\n  // },\n  methods: {\n    async update_click(image, position) {\n      let img_obj = new Image();\n      let canvas = document.createElement(\"canvas\");\n      img_obj.src = image;\n      while (img_obj.width == 0) await sleep(100);\n      canvas.height = img_obj.height;\n      canvas.width = img_obj.width;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img_obj, 0, 0);\n      ctx.strokeStyle = \"red\";\n      let width = 10;\n      let scale = 0.25;\n      ctx.strokeRect(\n        position.x1 * scale - width / 2,\n        position.y1 * scale - width / 2,\n        width,\n        width\n      );\n      return canvas.toDataURL(\"image/png\");\n    },\n    async update_read(image, box) {\n      let img_obj = new Image();\n      img_obj.src = image;\n      while (img_obj.width == 0) await sleep(100);\n      let canvas = document.createElement(\"canvas\");\n      canvas.height = img_obj.height;\n      canvas.width = img_obj.width;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img_obj, 0, 0);\n      ctx.strokeStyle = \"red\";\n      let scale = 0.25;\n      ctx.strokeRect(\n        box.left * scale,\n        box.top * scale,\n        box.width * scale,\n        box.height * scale\n      );\n      return canvas.toDataURL(\"image/png\");\n    },\n    async add_image(image, image_id, operation, note, touch) {\n      // console.log(\"add image\", image_id);\n      if (this.selected_index != -1) {\n        // console.log(\"update last\");\n        let last_item = this.image_list[this.selected_index];\n        let index = this.selected_index;\n        if (operation == \"点击\")\n          last_item.from = await this.update_click(last_item.from, touch);\n        else if (operation == \"读取\")\n          last_item.from = await this.update_read(last_item.from, touch);\n        last_item.to = image;\n        last_item.operation = operation;\n        last_item.note = note;\n        this.image_list.splice(index, 1, last_item);\n        // console.log(\"last\", last_item, index);\n      }\n      let index = this.selected_index+1;\n      this.selected_index = index;\n      let item = {\n        from: image,\n        to: \"\",\n        operation: \"\",\n        note: \"\",\n        image_id: image_id,\n      };\n      // console.log(\"new\", item);\n      this.image_list.splice(index, 0, item);\n      return 1;\n    },\n    select(index) {\n      this.selected_index = index;\n    },\n    delete_image(index) {\n      this.image_list.splice(index, 1);\n      if (this.selected_index >= this.image_list.length)\n        this.selected_index = this.image_list.length - 1;\n    },\n    clear_image() {\n      this.image_list = [];\n      this.selected_index = -1;\n    },\n    replace_image(new_image) {\n      this.image_list = new_image;\n    },\n    get_saved_image() {\n      let res = [];\n      for (let i = 0; i < this.image_list.length; i++)\n        res.push(this.image_list[i].image_id);\n      return res;\n    },\n  },\n  computed: {\n    container_class() {\n      if (this.bigger) {\n        return \"image-container-bigger\";\n      } else return \"image-container\";\n    },\n    image_style() {\n      if (this.bigger) {\n        return {\n          width: \"320px\",\n          height: \"560px\",\n          marginBottom: \"5px\",\n        };\n      } else\n        return {\n          width: \"98px\",\n          height: \"170px\",\n          marginBottom: \"5px\",\n        };\n    },\n  },\n};\n</script>\n\n<style>\n.image-container {\n  overflow: auto;\n  width: 290px;\n  height: 650px;\n}\n\n.image-container-bigger {\n  overflow: auto;\n  width: 800px;\n  height: 650px;\n}\n.image-item {\n  margin-bottom: 5px;\n}\n.highlight {\n  border: 2px solid #67c23a;\n}\n.operation {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageList.vue?vue&type=template&id=31793d3a&\"\nimport script from \"./ImageList.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n    namespaced: true,\r\n    state: {\r\n        session: '',\r\n        isLogin:localStorage['usn']?true:false,\r\n        user:localStorage['usn'] || '',\r\n        user_id:localStorage['user_id'] || '',\r\n        token:localStorage['token'] || ''\r\n    },\r\n    mutations: {\r\n        setSession(state, session) {\r\n            state.session = session;\r\n        },\r\n        setUser(state, user){\r\n            state.user = user;\r\n            state.user_id = user['user_id'];\r\n            state.token = user['token'];\r\n            state.isLogin = true;\r\n\r\n            localStorage['usn'] = user['usn'];\r\n            localStorage['user_id'] = user['user_id'];\r\n            localStorage['token'] = user['token'];\r\n        },\r\n        exitUser(state){\r\n            state.user = '';\r\n            state.user_id = '';\r\n            state.token = '';\r\n            state.isLogin = false;\r\n            \r\n            localStorage['usn'] = '';\r\n            localStorage['user_id'] = '';\r\n            localStorage['token'] = '';\r\n        }\r\n    }\r\n}","export default {\r\n    namespaced: true,\r\n    state: {\r\n        current_robot:localStorage['current_robot']?JSON.parse(localStorage['current_robot']):{}\r\n    },\r\n    mutations: {\r\n        set_robot(state, current_robot) {\r\n            state.current_robot = current_robot;\r\n            localStorage['current_robot'] = JSON.stringify(current_robot);\r\n        },\r\n        edit_robot(state,robot) {\r\n            state.current_robot = robot;\r\n            localStorage['current_robot'] = JSON.stringify(robot);\r\n        }\r\n    }\r\n}","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport user from './user';\r\nimport robot from './robot'\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        user,\r\n        robot\r\n    },\r\n});","import Axios from 'axios';\r\nimport { Message } from 'element-ui';\r\nimport router from '../router'\r\nimport store from '../store'\r\n\r\nconst axios = Axios.create();\r\nexport const debug  = false;\r\n// export const base_url = 'http://202.120.38.156:55560'\r\nexport const base_url = ''\r\n\r\naxios.interceptors.response.use(function(response) {\r\n    // Do something with response data\r\n    if (response.data['status'] == -2){\r\n        Message.error(\"认证失败\");\r\n        store.commit('user/exitUser');\r\n        router.replace('/dialog')\r\n    }\r\n    return response.data;\r\n}, function(error) {\r\n    // Do something with response error\r\n    console.log(\"连接出错\",error);\r\n    Message.error(\"系统出错\");\r\n    return {'status':-3,'error':'网络错误'};\r\n    // return Promise.reject(error);\r\n});\r\n\r\nexport default axios;","import axios from '../axios'\r\nimport { base_url, debug } from '../axios'\r\n\r\nconst url = base_url + '/dialog'\r\n\r\nexport const net_get_response = (param) => {\r\n\tif (debug) {\r\n\t\treturn { 'status': 1, 'response': param['message'] }\r\n\t}\r\n\tlet res = axios.post(url + '/chat', param);\r\n\treturn res\r\n}\r\n\r\nexport const net_find_robot = (param) => {\r\n\tif (debug) {\r\n\t\tif (param['domain'] != \"NBA\")\r\n\t\t\treturn { 'status': 1, 'exist': false }\r\n\t\telse\r\n\t\t\treturn { 'status': 1, 'exist': true }\r\n\t}\r\n\tlet res = axios.get(url + '/find', { 'params': param })\r\n\treturn res\r\n}\r\n\r\nexport const net_save_actions = (param) => {\r\n\tlet res = axios.post(\"/saveActions\", param)\r\n\treturn res\r\n}\r\n\r\nexport const net_get_actions = (param) => {\r\n\tlet res = axios.get(\"/getActions\", param)\r\n\treturn res\r\n}\r\n\r\nexport const net_do_action = (param) => {\r\n\tlet res = axios.post(\"/doAction\", param)\r\n\treturn res\r\n}\r\n\r\nexport const net_get_screenshot = (param) => {\r\n\tlet res = axios.get(\"/getScreenshot?uid=\" + param[\"uid\"])\r\n\treturn res\r\n}\r\n\r\nexport const net_get_dialog = (params) => {\r\n\tlet res = axios.get(\"/getDialog?dialog_id=\"+params[\"dialog_id\"])\r\n\treturn res\r\n}\r\n\r\nexport const net_start_record = (param) => {\r\n\tlet res = axios.post(\"/startRecord\", param);\r\n\treturn res;\r\n}\r\n\r\nexport const net_end_record = (param) => {\r\n\tlet res = axios.post(\"/endRecord\", param);\r\n\treturn res;\r\n}\r\n\r\nexport const net_reset = (param) => {\r\n\tlet res = axios.post(\"/reset\", param);\r\n\treturn res;\r\n}\r\n\r\nexport const net_save = (param) => {\r\n\tlet res = axios.post(\"/save\", param);\r\n\treturn res;\r\n}\r\n\r\nexport const net_save_review = (param) => {\r\n\tlet res = axios.post(\"/saveReview\", param);\r\n\treturn res;\r\n}\r\n\r\nexport const net_get_review = (param) => {\r\n\tlet res = axios.get(`/getReview?uid=${param[\"uid\"]}&dialog=${param[\"dialog\"]}&turn=${param[\"turn\"]}`);\r\n\treturn res;\r\n}\r\n\r\nexport const net_get_review_dialog = (param) => {\r\n\tlet res = axios.get(\"/getReviewDialog?uid=\"+param[\"uid\"])\r\n\treturn res\r\n}\r\n\r\nexport const net_get_all_dialog = (param) => {\r\n\tlet res = axios.get(\"/getAllDialog?uid=\"+param[\"uid\"])\r\n\treturn res\r\n}\r\n\r\nexport const net_get_goal = () => {\r\n\tlet res = axios.get(\"/goalsGenerator\")\r\n\treturn res\r\n}\r\n\r\nexport const net_add_turn = (param) => {\r\n\tlet res = axios.get(`/addDialog?dialog=${param[\"dialog\"]}&turn=${param[\"turn\"]}`);\r\n\treturn res;\r\n}\r\n\r\nexport const net_delete_turn = (param) => {\r\n\tlet res = axios.get(`/deleteDialog?dialog=${param[\"dialog\"]}&turn=${param[\"turn\"]}`);\r\n\treturn res;\r\n}\r\n\r\nexport const net_get_new_dialog = (param) => {\r\n\tlet res = axios.get(\"/getNewDialog?uid=\"+param[\"uid\"])\r\n\treturn res\r\n}","<template>\r\n  <el-row>\r\n    <el-col :span=\"8\">\r\n      <div class=\"dialog-main\">\r\n        <div class=\"dialog-header\">\r\n          <el-select\r\n            :disabled=\"!enable_change_dialog\"\r\n            @change=\"changeDialog\"\r\n            v-model=\"current_dialog\"\r\n            value-key=\"name\"\r\n            placeholder=\"对话id\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in all_dialog\"\r\n              :key=\"index\"\r\n              :label=\"item.name\"\r\n              :value=\"item\"\r\n            >\r\n              <span style=\"float: left\">{{ item.name }}</span>\r\n              <span style=\"float: right; font-size: 13px\" :class=\"item.color\">{{\r\n                item.check_status\r\n              }}</span>\r\n            </el-option>\r\n          </el-select>\r\n          当前轮数:{{ current_turn }}\r\n        </div>\r\n        <el-button-group>\r\n          <el-button type=\"primary\" @click=\"lastTurn\"> 上一轮 </el-button>\r\n          <el-button type=\"primary\" @click=\"getNextTurn\"> 下一轮 </el-button>\r\n          <!-- <el-button type=\"success\" @click=\"startRecording\"\r\n            >开始录制 <i class=\"el-icon-video-play\"></i\r\n          ></el-button> -->\r\n          <!-- <el-button type=\"danger\" @click=\"endRecording\"\r\n            >结束录制 <i class=\"el-icon-video-pause\"></i\r\n          ></el-button> -->\r\n          <!-- <el-button type=\"plain\" @click=\"addTurn\" :disabled=\"enable_save\"\r\n            >加一轮 <i class=\"el-icon-video-pause\"></i\r\n          ></el-button>\r\n          <el-button type=\"danger\" @click=\"deleteTurn\" :disabled=\"enable_save\"\r\n            >删除当前轮 <i class=\"el-icon-video-pause\"></i\r\n          ></el-button> -->\r\n\r\n          <el-button type=\"success\" @click=\"saveImages\" :disabled=\"enable_save\"\r\n            >保存 <i class=\"el-icon-video-pause\"></i\r\n          ></el-button>\r\n        </el-button-group>\r\n        <div id=\"dialog-window\" class=\"dialog-dialog\">\r\n          <Talk\r\n            v-for=\"(item, index) in dialog\"\r\n            :data=\"item\"\r\n            :key=\"index\"\r\n            :index=\"index\"\r\n            :selected=\"\r\n              index >= current_turn * 2 && index <= current_turn * 2 + 1\r\n            \"\r\n            @editTurn=\"editTurn\"\r\n            @inputFocus=\"setInputFocus\"\r\n          ></Talk>\r\n        </div>\r\n        <!-- <div class=\"dialog-input\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"input\"\r\n            class=\"dialog-input-box\"\r\n            @keyup.enter.native=\"submit\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-s-promotion\"\r\n              type=\"success\"\r\n              @click=\"submit\"\r\n            ></el-button>\r\n          </el-input>\r\n        </div> -->\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-col :span=\"10\">\r\n      <ImageSimulator\r\n        @swipe=\"swipe\"\r\n        @doubleTap=\"doubleTap\"\r\n        @singleTap=\"singleTap\"\r\n        @getScreen=\"getScreenshot\"\r\n        @goBack=\"goBack\"\r\n        @home=\"home\"\r\n        @input=\"inputText\"\r\n        @inputFocus=\"setInputFocus\"\r\n        @clear=\"clearInput\"\r\n        @read=\"readBox\"\r\n        @inputChar=\"inputChar\"\r\n        :image=\"image\"\r\n        ref=\"simulator\"\r\n      ></ImageSimulator>\r\n    </el-col>\r\n\r\n    <el-col :span=\"6\">\r\n      <ImageList ref=\"imageList\"></ImageList>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport Talk from \"./Talk\";\r\nimport ImageSimulator from \"../ImageSimulator.vue\";\r\nimport ImageList from \"../ImageList.vue\";\r\nimport {\r\n  net_get_response,\r\n  net_do_action,\r\n  net_get_screenshot,\r\n  net_get_dialog,\r\n  net_start_record,\r\n  net_end_record,\r\n  net_save,\r\n  net_reset,\r\n  net_get_all_dialog,\r\n  net_get_review,\r\n} from \"@/network\";\r\n\r\n// function sleep(time) {\r\n//   return new Promise((resolve) => setTimeout(resolve, time));\r\n// }\r\n\r\nexport default {\r\n  name: \"Dialog\",\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      status: \"等待输入\",\r\n      input_focus: false,\r\n      dialog: [], // current turns\r\n      full_dialog: [], // current dialog\r\n      all_dialog: [], // all dialogs\r\n      image: null,\r\n      enable_interact: false,\r\n      last_action: {},\r\n      recording: false,\r\n      enable_change_dialog: true,\r\n      enable_save: false,\r\n      current_dialog_id: null,\r\n      current_turn: 0,\r\n      current_user: \"test\",\r\n      current_dialog: null, // for select component\r\n      dialog_list: [],\r\n      raw_images: [],\r\n      layout_images: [],\r\n\r\n      has_init: false,\r\n    };\r\n  },\r\n  // updated: function () {\r\n  //   let body = document.getElementById(\"dialog-window\");\r\n  //   body.scrollTop = body.scrollHeight;\r\n  // },\r\n  async mounted() {\r\n    // this.send_message(\"reset\");\r\n    // await net_reset({ uid: this.current_user });\r\n    await net_reset({ uid: this.current_user });\r\n    await this.get_all_dialog(true);\r\n    document.body.addEventListener(\"keydown\", this.handleSpace);\r\n  },\r\n  methods: {\r\n    async setImage() {\r\n      this.$refs.imageList.add_image(\r\n        this.raw_images[0][0],\r\n        this.raw_images[0][1]\r\n      );\r\n      for (let i = 1; i < this.raw_images.length; i++) {\r\n        await this.$refs.imageList.add_image(\r\n          this.raw_images[i][0],\r\n          this.raw_images[i][1],\r\n          this.action[i - 1][\"action\"],\r\n          this.action[i - 1][\"text\"],\r\n          this.action[i - 1]\r\n        );\r\n      }\r\n      this.$refs.simulator.setLoading(false);\r\n    },\r\n    async getImages() {\r\n      this.$refs.simulator.setLoading(true);\r\n      this.$refs.imageList.clear_image();\r\n      let params = {\r\n        uid: this.current_user,\r\n        dialog: this.current_dialog_id,\r\n        turn: this.current_turn,\r\n      };\r\n      console.log(\"get image\", params);\r\n      let response = await net_get_review(params);\r\n      if (response[\"status\"] == 1) {\r\n        this.raw_images = response[\"image\"];\r\n        this.layout_images = response[\"layout\"];\r\n        this.action = response[\"action\"];\r\n        console.log(\"get image length:\", this.raw_images.length);\r\n        if (this.raw_images.length != 0) this.setImage();\r\n        else this.getScreenshot();\r\n      }\r\n    },\r\n\r\n    async get_all_dialog(reset) {\r\n      let response = await net_get_all_dialog({ uid: this.current_user });\r\n      console.log(response);\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"已获取对话。\");\r\n        let first = -1;\r\n        for (let i = 0; i < response[\"dialog\"].length; i++) {\r\n          let item = response[\"dialog\"][i];\r\n          item.check_status = item.annotated_turns + \"/\" + item.all_turns;\r\n          item.color =\r\n            item.annotated_turns == item.all_turns\r\n              ? \"color-success\"\r\n              : \"color-info\";\r\n          if (item.color == \"color-info\" && first == -1) first = i;\r\n        }\r\n        if (first == -1) first = 0;\r\n        this.all_dialog = response[\"dialog\"];\r\n        if (reset) {\r\n          this.current_dialog = this.all_dialog[first];\r\n          this.current_dialog_id = this.all_dialog[first].dialog_id;\r\n        }\r\n      }\r\n      if (reset) this.getDialog();\r\n    },\r\n    addTurn() {\r\n      let new_message = { text: \"用户发言\", isUser: true };\r\n      let insert_idx = this.current_turn * 2 + 2;\r\n      if (insert_idx >= this.dialog.length) insert_idx = this.dialog.length;\r\n      this.dialog.splice(insert_idx, 0, new_message);\r\n      new_message = { text: \"系统发言\", isUser: false };\r\n      this.dialog.splice(insert_idx + 1, 0, new_message);\r\n      this.full_dialog = this.dialog;\r\n    },\r\n    deleteTurn() {\r\n      let begin = this.current_turn*2;\r\n      this.dialog.splice(begin, 2);\r\n      this.full_dialog = this.dialog;\r\n    },\r\n    editTurn(turn_index, text) {\r\n      let origin = this.full_dialog[turn_index];\r\n      origin.text = text;\r\n      console.log(origin);\r\n      this.full_dialog.splice(turn_index, 1, origin);\r\n    },\r\n    setInputFocus(focus) {\r\n      this.input_focus = focus;\r\n      if (focus) document.body.removeEventListener(\"keydown\", this.handleSpace);\r\n      else document.body.addEventListener(\"keydown\", this.handleSpace);\r\n    },\r\n    handleSpace() {\r\n      let key = window.event.keyCode;\r\n      if (key == 32) {\r\n        window.event.preventDefault();\r\n        this.$refs.simulator.getScreen();\r\n      }\r\n    },\r\n    setNotice(notice) {\r\n      this.$refs.simulator.setNotice(notice);\r\n    },\r\n    async saveImages() {\r\n      this.$confirm(\r\n        \"将保存所有标注的图片并加载下一轮对话，是否继续？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(async () => {\r\n        let saved_image = this.$refs.imageList.get_saved_image();\r\n        let data = {\r\n          screens: saved_image,\r\n          dialog: this.full_dialog,\r\n          dialog_id: this.current_dialog_id,\r\n          turn: this.current_turn,\r\n        };\r\n        let response = await net_save(data);\r\n        if (response[\"status\"] == 1) {\r\n          this.setNotice(\"保存成功\");\r\n          this.get_all_dialog(false);\r\n          this.getNextTurn();\r\n        }\r\n      });\r\n    },\r\n    async startRecording() {\r\n      this.enable_interact = true;\r\n      this.recording = true;\r\n      this.enable_change_dialog = false;\r\n      this.enable_save = true;\r\n      if (this.current_turn == 0) {\r\n        this.dialog = [];\r\n        for (let i = 0; i < 2; i++) {\r\n          let message = this.full_dialog[i];\r\n          this.update_history(message, message.isUser);\r\n        }\r\n      }\r\n      let res = await net_start_record({ uid: this.current_user });\r\n      if (res[\"status\"] == 1) {\r\n        this.setNotice(\"开始录制，请在网页上操作手机，所有操作将会被记录。\");\r\n        this.$message({\r\n          message: \"开始录制\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n    async endRecording() {\r\n      let res = await net_end_record({\r\n        uid: this.current_user,\r\n        dialog: this.current_dialog_id,\r\n      });\r\n      if (res[\"status\"] == 1) {\r\n        this.setNotice(\"结束录制，请在右侧确认截图列表。\");\r\n        this.$message({\r\n          message: \"录制成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n      this.recording = false;\r\n    },\r\n    changeDialog(dialog) {\r\n      this.current_dialog_id = dialog.dialog_id;\r\n      this.getDialog();\r\n    },\r\n    async getDialog() {\r\n      this.setNotice(\"获取对话中\");\r\n      let response = await net_get_dialog({\r\n        dialog_id: this.current_dialog_id,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\r\n          \"已获取对话，可根据对话在手机上探索，准备好后点击开始录制进行操作录制。\"\r\n        );\r\n        this.full_dialog = response[\"turns\"];\r\n        this.dialog = [];\r\n        for (let i = 0; i < response[\"turns\"].length; i++) {\r\n          let message = response[\"turns\"][i];\r\n          this.update_history(message, message.isUser);\r\n        }\r\n        this.current_dialog_id = response[\"id\"];\r\n        this.current_turn = 0;\r\n        this.getImages();\r\n      } else {\r\n        this.setNotice(\"所有对话已经标注完毕。\");\r\n        this.$message(\"所有对话已经标注完毕。\");\r\n      }\r\n    },\r\n    lastTurn() {\r\n      this.setNotice(\"正在切换至上一轮对话。\");\r\n      if (this.current_turn == 0) return;\r\n      this.current_turn -= 1;\r\n      this.getImages();\r\n    },\r\n    getNextTurn() {\r\n      this.setNotice(\"正在获取下一轮对话。\");\r\n      console.log(this.current_turn);\r\n      console.log(this.full_dialog);\r\n      let next_index = (this.current_turn + 1) * 2;\r\n      console.log(\r\n        \"next index\",\r\n        next_index,\r\n        \"full dialog\",\r\n        this.full_dialog.length\r\n      );\r\n      if (next_index < this.full_dialog.length) {\r\n        this.current_turn += 1;\r\n        this.getImages();\r\n        // if (!this.enable_change_dialog)\r\n        //   for (let i = next_index; i < next_index + 2; i++) {\r\n        //     let message = this.full_dialog[i];\r\n        //     this.update_history(message, message.isUser);\r\n        //   }\r\n        this.setNotice(\r\n          \"已获取对话，可根据对话在手机上探索，准备好后点击开始录制进行操作录制。\"\r\n        );\r\n      } else {\r\n        this.enable_change_dialog = true;\r\n        this.enable_save = false;\r\n        this.$alert(\"当前对话已经标注完毕，即将跳转到下一个对话。\", \"已完成\", {\r\n          confirmButtonText: \"确定\",\r\n          callback: async () => {\r\n            let response = await net_end_record({ uid: this.current_user });\r\n            if (response[\"status\"] == 1) {\r\n              let first = -1;\r\n              for (let i = 0; i < this.all_dialog.length; i++) {\r\n                let item = this.all_dialog[i];\r\n                if (item.color == \"color-info\" && first == -1) first = i;\r\n              }\r\n              if (first == -1) first = 0;\r\n              this.current_dialog = this.all_dialog[first];\r\n              this.current_dialog_id = this.all_dialog[first].dialog_id;\r\n              this.getDialog();\r\n            }\r\n          },\r\n        });\r\n      }\r\n      // this.$refs.imageList.clear_image();\r\n      // this.getScreenshot();\r\n    },\r\n    async clearInput() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"清除输入执行中\");\r\n      let action = { type: \"clear\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"清除输入执行完毕，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: \"清除输入\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async inputChar(c) {\r\n      if (!this.enable_interact) return;\r\n      let name = \"\";\r\n      if (c == \"space\") name = \"空格\";\r\n      else name = \"回车\";\r\n      this.setNotice(\"输入\" + name);\r\n      let action = { type: c };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"已输入\" + name + \", 请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: name, note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async readBox(box) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"添加读取框中\");\r\n      let action = {\r\n        type: \"read\",\r\n        height: box.height,\r\n        width: box.width,\r\n        top: box.top,\r\n        left: box.left,\r\n      };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      // let response = { status: 1 };\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\"已添加读取框，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"读取\", note: \"\", touch: box };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async inputText(e) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"输入文字执行中\");\r\n      let action = { type: \"input\", text: e };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"输入文字完成，输入内容：\" +\r\n            e +\r\n            \"，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: \"输入\", note: e, touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async goBack() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行返回键\");\r\n      let action = { type: \"back\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"返回执行完毕，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"返回\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async home() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行home键\");\r\n      let action = { type: \"home\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"返回执行完毕，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"返回\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async swipe(touch) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行滑动操作。\");\r\n      console.log(\"swipe\", touch);\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let action = {\r\n        type: \"swipe\",\r\n        x1: touch.x1,\r\n        y1: touch.y1,\r\n        x2: touch.x2,\r\n        y2: touch.y2,\r\n      };\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        let direction = this.$refs.simulator.swipeDirection(\r\n          touch.x1,\r\n          touch.x2,\r\n          touch.y1,\r\n          touch.y2\r\n        );\r\n        this.setNotice(\r\n          direction + \"滑执行完毕，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: direction + \"滑\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n\r\n    async singleTap(touch) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"点击执行中\");\r\n      console.log(\"single tap\", touch);\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let action = { type: \"click\", x: touch.x1, y: touch.y1 };\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\r\n          \"点击执行完毕，点击位置：\" +\r\n            touch.x1 +\r\n            \",\" +\r\n            touch.y1 +\r\n            \",请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = {\r\n          op: \"点击\",\r\n          note: \"点击位置：\" + touch.x1 + \",\" + touch.y1,\r\n          touch: touch,\r\n        };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(this.enable_interact);\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n\r\n    doubleTap(touch) {\r\n      console.log(\"double tap\", touch);\r\n    },\r\n\r\n    async getScreenshot(t) {\r\n      this.enable_interact = false;\r\n      this.setNotice(\"获取截图中，请勿进行操作。\");\r\n      this.$refs.simulator.setLoading(true);\r\n      let response = await net_get_screenshot({ uid: this.current_user });\r\n      console.log(response);\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"获取截图完毕，可以进行下一步操作。\");\r\n        this.$refs.simulator.setImage(response[\"screenshot\"]);\r\n        if (t != \"init\")\r\n          this.$refs.imageList.add_image(\r\n            response[\"screenshot\"],\r\n            response[\"screen_id\"],\r\n            this.last_action[\"op\"],\r\n            this.last_action[\"note\"],\r\n            this.last_action[\"touch\"]\r\n          );\r\n        this.$refs.simulator.setLoading(false);\r\n      }\r\n      this.enable_interact = true;\r\n    },\r\n\r\n    update_history(new_msg, isUser) {\r\n      new_msg[\"isUser\"] = isUser;\r\n      this.dialog.push(new_msg);\r\n    },\r\n    async send_message(text, data = null) {\r\n      console.log(\"send\", text);\r\n      let response = await net_get_response({\r\n        message: text,\r\n        data: data,\r\n      });\r\n      console.log(\"receive:\", response);\r\n      // let response = {'response':'收到：'+text,'session':this.$store.state.user.session+'1'};\r\n      if (response[\"status\"] == 1) {\r\n        if (response[\"execute_task\"]) {\r\n          if (!this.playback_status.has_loaded) {\r\n            this.update_history({ text: response[\"response\"] }, false);\r\n            this.status = \"begin to perform task\";\r\n            this.playback_status.has_loaded = true;\r\n            if (this.session_on) {\r\n              this.$refs.simulator.endSession();\r\n            }\r\n            this.$refs.simulator.requestSession();\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.update_history({ text: response[\"response\"] }, false);\r\n        this.status = \"success\";\r\n      } else {\r\n        this.status = \"fail\";\r\n      }\r\n    },\r\n    submit() {\r\n      let text = this.input;\r\n      if (!text) return;\r\n      this.status = \"updating dom\";\r\n      this.input = \"\";\r\n      this.update_history({ text: text }, true);\r\n      this.status = \"sending message\";\r\n      console.log(text);\r\n      // 特殊处理\r\n      if (text.startsWith(\"输入\")) {\r\n        let input_text = text.slice(2);\r\n        console.log(\"输入：\", input_text);\r\n        this.$refs.simulator.pasteText(input_text);\r\n        return;\r\n      }\r\n      this.send_message(text);\r\n    },\r\n  },\r\n  components: {\r\n    Talk,\r\n    ImageSimulator,\r\n    ImageList,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-main {\r\n  background-color: white;\r\n  width: 90%;\r\n  height: 650px;\r\n  border-radius: 10px;\r\n  border: 1px gray solid;\r\n  overflow: hidden;\r\n}\r\n\r\n.dialog-header {\r\n  border-bottom: 1px gray solid;\r\n  height: 8%;\r\n  padding: 5px 0 0 10px;\r\n}\r\n\r\n.dialog-dialog {\r\n  height: 84%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.dialog-input {\r\n  height: 8%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n}\r\n\r\n.dialog-tag {\r\n  height: 30px;\r\n  width: 50px;\r\n  margin: 10px 0 10px 10px;\r\n}\r\n.name-input {\r\n  width: 30%;\r\n}\r\n\r\n.color-success {\r\n  color: #67c23a;\r\n}\r\n.color-info {\r\n  color: #909399;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=9f2560f8&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=9f2560f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f2560f8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <el-container>\r\n        <div class = 'dialogPage-dialog'>\r\n            <Dialog></Dialog>\r\n        </div>\r\n    </el-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Dialog from '../components/Dialog/Dialog'\r\nexport default {\r\n    components:{\r\n        Dialog\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialogPage-dialog {\r\n    height: 80vh;\r\n    width: 100vw;\r\n    padding: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogPage.vue?vue&type=template&id=38a42067&scoped=true&\"\nimport script from \"./DialogPage.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DialogPage.vue?vue&type=style&index=0&id=38a42067&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38a42067\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('div',{staticClass:\"dialogPage-dialog\"},[_c('Dialog')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{attrs:{\"span\":9}},[_c('div',{staticClass:\"dialog-main\"},[_c('div',{staticClass:\"dialog-header\"},[_c('el-button',{staticClass:\"el-icon-refresh\",staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.get_goal}},[_vm._v(\" 换个目标 \")]),_c('h4',[_vm._v(\"对话目标:\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.goals)}}),_c('br'),_c('h4',[_vm._v(\"对话必须涉及:\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.lan_infos)}})],1),_c('div',[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.lastTurn}},[_vm._v(\" 上一轮 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getNextTurn}},[_vm._v(\" 下一轮 \")]),_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"plain\"},on:{\"command\":_vm.addTurn,\"click\":function($event){return _vm.addTurn('down')}}},[_vm._v(\" 加一轮 \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"down\"}},[_vm._v(\"在下方添加\")]),_c('el-dropdown-item',{attrs:{\"command\":\"up\"}},[_vm._v(\"在上方添加\")]),_c('el-dropdown-item',{attrs:{\"command\":\"delete\"}},[_vm._v(\"删除当前轮\")])],1)],1),_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.enable_save},on:{\"click\":_vm.saveImages}},[_vm._v(\"保存 \"),_c('i',{staticClass:\"el-icon-video-pause\"})])],1),_c('el-select',{attrs:{\"disabled\":!_vm.enable_change_dialog,\"value-key\":\"name\",\"placeholder\":\"对话id\"},on:{\"change\":_vm.changeDialog},model:{value:(_vm.current_dialog),callback:function ($$v) {_vm.current_dialog=$$v},expression:\"current_dialog\"}},_vm._l((_vm.all_dialog),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.name))]),_c('span',{class:item.color,staticStyle:{\"float\":\"right\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(item.check_status))])])}),1)],1),_c('div',{staticClass:\"dialog-dialog\",attrs:{\"id\":\"dialog-window\"}},_vm._l((_vm.dialog),function(item,index){return _c('Talk',{key:index,attrs:{\"data\":item,\"index\":index,\"selected\":index >= _vm.current_turn * 2 && index <= _vm.current_turn * 2 + 1},on:{\"editTurn\":_vm.editTurn,\"inputFocus\":_vm.setInputFocus}})}),1)])]),_c('el-col',{attrs:{\"span\":10}},[_c('ImageSimulator',{ref:\"simulator\",attrs:{\"image\":_vm.image},on:{\"swipe\":_vm.swipe,\"doubleTap\":_vm.doubleTap,\"singleTap\":_vm.singleTap,\"getScreen\":_vm.getScreenshot,\"goBack\":_vm.goBack,\"home\":_vm.home,\"input\":_vm.inputText,\"inputFocus\":_vm.setInputFocus,\"clear\":_vm.clearInput,\"read\":_vm.readBox,\"inputChar\":_vm.inputChar}})],1),_c('el-col',{attrs:{\"span\":5}},[_c('ImageList',{ref:\"imageList\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-row>\r\n    <el-col :span=\"9\">\r\n      <div class=\"dialog-main\">\r\n        <div class=\"dialog-header\">\r\n            <el-button style=\"margin-bottom:5px;\" type=\"primary\" size=\"small\" @click=\"get_goal\" class=\"el-icon-refresh\"> 换个目标 </el-button>\r\n          <h4>对话目标:</h4>\r\n          <p v-html=\"goals\"></p>\r\n          <br />\r\n          <h4>对话必须涉及:</h4>\r\n          <p v-html=\"lan_infos\"></p>\r\n        </div>\r\n        <div>\r\n          <el-button-group>\r\n            <el-button type=\"primary\" @click=\"lastTurn\"> 上一轮 </el-button>\r\n            <el-button type=\"primary\" @click=\"getNextTurn\"> 下一轮 </el-button>\r\n            <el-dropdown\r\n              split-button\r\n              type=\"plain\"\r\n              @command=\"addTurn\"\r\n              @click=\"addTurn('down')\"\r\n            >\r\n              加一轮\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"down\">在下方添加</el-dropdown-item>\r\n                <el-dropdown-item command=\"up\">在上方添加</el-dropdown-item>\r\n                <el-dropdown-item command=\"delete\">删除当前轮</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n\r\n            <el-button\r\n              type=\"success\"\r\n              @click=\"saveImages\"\r\n              :disabled=\"enable_save\"\r\n              >保存 <i class=\"el-icon-video-pause\"></i\r\n            ></el-button>\r\n          </el-button-group>\r\n          <el-select\r\n            :disabled=\"!enable_change_dialog\"\r\n            @change=\"changeDialog\"\r\n            v-model=\"current_dialog\"\r\n            value-key=\"name\"\r\n            placeholder=\"对话id\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in all_dialog\"\r\n              :key=\"index\"\r\n              :label=\"item.name\"\r\n              :value=\"item\"\r\n            >\r\n              <span style=\"float: left\">{{ item.name }}</span>\r\n              <span style=\"float: right; font-size: 13px\" :class=\"item.color\">{{\r\n                item.check_status\r\n              }}</span>\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n\r\n        <div id=\"dialog-window\" class=\"dialog-dialog\">\r\n          <Talk\r\n            v-for=\"(item, index) in dialog\"\r\n            :data=\"item\"\r\n            :key=\"index\"\r\n            :index=\"index\"\r\n            :selected=\"\r\n              index >= current_turn * 2 && index <= current_turn * 2 + 1\r\n            \"\r\n            @editTurn=\"editTurn\"\r\n            @inputFocus=\"setInputFocus\"\r\n          ></Talk>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-col :span=\"10\">\r\n      <ImageSimulator\r\n        @swipe=\"swipe\"\r\n        @doubleTap=\"doubleTap\"\r\n        @singleTap=\"singleTap\"\r\n        @getScreen=\"getScreenshot\"\r\n        @goBack=\"goBack\"\r\n        @home=\"home\"\r\n        @input=\"inputText\"\r\n        @inputFocus=\"setInputFocus\"\r\n        @clear=\"clearInput\"\r\n        @read=\"readBox\"\r\n        @inputChar=\"inputChar\"\r\n        :image=\"image\"\r\n        ref=\"simulator\"\r\n      ></ImageSimulator>\r\n    </el-col>\r\n\r\n    <el-col :span=\"5\">\r\n      <ImageList ref=\"imageList\"></ImageList>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport Talk from \"./Talk\";\r\nimport ImageSimulator from \"../ImageSimulator.vue\";\r\nimport ImageList from \"../ImageList.vue\";\r\nimport {\r\n  net_get_response,\r\n  net_do_action,\r\n  net_get_screenshot,\r\n  net_start_record,\r\n  net_end_record,\r\n  net_save,\r\n  net_reset,\r\n  net_get_all_dialog,\r\n  net_get_dialog,\r\n  net_get_review,\r\n  net_get_goal,\r\n  net_add_turn,\r\n  net_delete_turn,\r\n} from \"@/network\";\r\n\r\nexport default {\r\n  name: \"Dialog\",\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      status: \"等待输入\",\r\n      input_focus: false,\r\n      dialog: [], // current turns\r\n      full_dialog: [], // current dialog\r\n      all_dialog: [], // all dialogs\r\n      image: null,\r\n      enable_interact: false,\r\n      last_action: {},\r\n      recording: false,\r\n      enable_change_dialog: true,\r\n      enable_save: false,\r\n      current_dialog_id: null,\r\n      current_turn: 0,\r\n      current_user: \"test\",\r\n      current_dialog: null, // for select component\r\n      dialog_list: [],\r\n      raw_images: [],\r\n      layout_images: [],\r\n      has_init: false,\r\n      goals: \"\",\r\n      lan_infos: \"\",\r\n    };\r\n  },\r\n  async mounted() {\r\n    await net_reset({ uid: this.current_user });\r\n    await this.get_all_dialog(true);\r\n    document.body.addEventListener(\"keydown\", this.handleSpace);\r\n  },\r\n  methods: {\r\n    async get_goal() {\r\n      let res = await net_get_goal();\r\n      if (res[\"status\"] == 1) {\r\n        this.goals = res[\"goals\"];\r\n        this.lan_infos = res[\"lan_infos\"];\r\n      }\r\n    },\r\n    async setImage() {\r\n      this.$refs.imageList.add_image(\r\n        this.raw_images[0][0],\r\n        this.raw_images[0][1]\r\n      );\r\n      for (let i = 1; i < this.raw_images.length; i++) {\r\n        await this.$refs.imageList.add_image(\r\n          this.raw_images[i][0],\r\n          this.raw_images[i][1],\r\n          this.action[i - 1][\"action\"],\r\n          this.action[i - 1][\"text\"],\r\n          this.action[i - 1]\r\n        );\r\n      }\r\n      this.$refs.simulator.setLoading(false);\r\n    },\r\n    async getImages() {\r\n      this.$refs.simulator.setLoading(true);\r\n      this.$refs.imageList.clear_image();\r\n      let params = {\r\n        uid: this.current_user,\r\n        dialog: this.current_dialog_id,\r\n        turn: this.current_turn,\r\n      };\r\n      console.log(\"get image\", params);\r\n      let response = await net_get_review(params);\r\n      if (response[\"status\"] == 1) {\r\n        this.raw_images = response[\"image\"];\r\n        this.layout_images = response[\"layout\"];\r\n        this.action = response[\"action\"];\r\n        this.goals = response[\"goals\"]\r\n        this.lan_infos = response[\"lan_infos\"]\r\n        console.log(\"get image length:\", this.raw_images.length);\r\n        if (this.raw_images.length != 0) this.setImage();\r\n        else this.getScreenshot();\r\n      }\r\n    },\r\n\r\n    async get_all_dialog(reset) {\r\n      let response = await net_get_all_dialog({ uid: this.current_user });\r\n      console.log(response);\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"已获取对话。\");\r\n        let first = -1;\r\n        for (let i = 0; i < response[\"dialog\"].length; i++) {\r\n          let item = response[\"dialog\"][i];\r\n          item.check_status = item.annotated_turns + \"/\" + item.all_turns;\r\n          item.color =\r\n            item.annotated_turns == item.all_turns\r\n              ? \"color-success\"\r\n              : \"color-info\";\r\n          if (item.color == \"color-info\" && first == -1) first = i;\r\n        }\r\n        if (first == -1) first = 0;\r\n        this.all_dialog = response[\"dialog\"];\r\n        if (reset) {\r\n          this.current_dialog = this.all_dialog[first];\r\n          this.current_dialog_id = this.all_dialog[first].dialog_id;\r\n        }\r\n      }\r\n      if (reset) this.getDialog();\r\n    },\r\n    async addTurn(direction) {\r\n      if (direction == \"delete\") {\r\n        this.deleteTurn();\r\n        return;\r\n      }\r\n      let new_message = { text: \"用户发言\", isUser: true };\r\n      let insert_idx = this.current_turn * 2 + 2;\r\n      if (insert_idx >= this.dialog.length) insert_idx = this.dialog.length;\r\n      if (direction == \"up\") insert_idx = this.current_turn * 2;\r\n\r\n      let params = { dialog: this.current_dialog_id };\r\n      if (direction == \"down\") params[\"turn\"] = this.current_turn + 1;\r\n      else params[\"turn\"] = this.current_turn;\r\n      let res = await net_add_turn(params);\r\n      if (res[\"status\"] == 1) {\r\n        this.dialog.splice(insert_idx, 0, new_message);\r\n        new_message = { text: \"系统发言\", isUser: false };\r\n        this.dialog.splice(insert_idx + 1, 0, new_message);\r\n        this.full_dialog = this.dialog;\r\n        if (direction == \"up\") this.current_turn += 1;\r\n      }\r\n    },\r\n    async deleteTurn() {\r\n      this.$confirm(\r\n        \"删除当前轮对话将清除当前轮所有标注的图片，是否继续？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(async () => {\r\n        let begin = this.current_turn * 2;\r\n        let params = {\r\n          dialog: this.current_dialog_id,\r\n          turn: this.current_turn,\r\n        };\r\n        let res = await net_delete_turn(params);\r\n        if (res[\"status\"] == 1) {\r\n          this.dialog.splice(begin, 2);\r\n          this.full_dialog = this.dialog;\r\n          if (this.current_turn * 2 >= this.dialog.length)\r\n            this.current_turn -= 1;\r\n          this.getImages();\r\n        }\r\n      });\r\n    },\r\n    editTurn(turn_index, text) {\r\n      let origin = this.full_dialog[turn_index];\r\n      origin.text = text;\r\n      console.log(origin);\r\n      this.full_dialog.splice(turn_index, 1, origin);\r\n    },\r\n    setInputFocus(focus) {\r\n      this.input_focus = focus;\r\n      if (focus) document.body.removeEventListener(\"keydown\", this.handleSpace);\r\n      else document.body.addEventListener(\"keydown\", this.handleSpace);\r\n    },\r\n    handleSpace() {\r\n      let key = window.event.keyCode;\r\n      if (key == 32) {\r\n        window.event.preventDefault();\r\n        this.$refs.simulator.getScreen();\r\n      }\r\n    },\r\n    setNotice(notice) {\r\n      this.$refs.simulator.setNotice(notice);\r\n    },\r\n    async saveImages() {\r\n      this.$confirm(\r\n        \"将保存所有标注的图片并加载下一轮对话，是否继续？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(async () => {\r\n        let saved_image = this.$refs.imageList.get_saved_image();\r\n        let data = {\r\n          screens: saved_image,\r\n          dialog: this.full_dialog,\r\n          dialog_id: this.current_dialog_id,\r\n          turn: this.current_turn,\r\n          goals: this.goals,\r\n          lan_infos: this.lan_infos\r\n        };\r\n        let response = await net_save(data);\r\n        if (response[\"status\"] == 1) {\r\n          this.setNotice(\"保存成功\");\r\n          this.get_all_dialog(false);\r\n          this.getNextTurn();\r\n        }\r\n      });\r\n    },\r\n    async startRecording() {\r\n      this.enable_interact = true;\r\n      this.recording = true;\r\n      this.enable_change_dialog = false;\r\n      this.enable_save = true;\r\n      if (this.current_turn == 0) {\r\n        this.dialog = [];\r\n        for (let i = 0; i < 2; i++) {\r\n          let message = this.full_dialog[i];\r\n          this.update_history(message, message.isUser);\r\n        }\r\n      }\r\n      let res = await net_start_record({ uid: this.current_user });\r\n      if (res[\"status\"] == 1) {\r\n        this.setNotice(\"开始录制，请在网页上操作手机，所有操作将会被记录。\");\r\n        this.$message({\r\n          message: \"开始录制\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n    async endRecording() {\r\n      let res = await net_end_record({\r\n        uid: this.current_user,\r\n        dialog: this.current_dialog_id,\r\n      });\r\n      if (res[\"status\"] == 1) {\r\n        this.setNotice(\"结束录制，请在右侧确认截图列表。\");\r\n        this.$message({\r\n          message: \"录制成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n      this.recording = false;\r\n    },\r\n    changeDialog(dialog) {\r\n      this.current_dialog_id = dialog.dialog_id;\r\n      this.getDialog();\r\n    },\r\n    async getDialog() {\r\n      this.setNotice(\"获取对话中\");\r\n      let response = await net_get_dialog({\r\n        dialog_id: this.current_dialog_id,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\r\n          \"已获取对话，可根据对话在手机上探索，准备好后点击开始录制进行操作录制。\"\r\n        );\r\n        this.full_dialog = response[\"turns\"];\r\n        this.dialog = [];\r\n        for (let i = 0; i < response[\"turns\"].length; i++) {\r\n          let message = response[\"turns\"][i];\r\n          this.update_history(message, message.isUser);\r\n        }\r\n        this.current_dialog_id = response[\"id\"];\r\n        this.current_turn = 0;\r\n        this.getImages();\r\n      } else {\r\n        this.setNotice(\"所有对话已经标注完毕。\");\r\n        this.$message(\"所有对话已经标注完毕。\");\r\n      }\r\n    },\r\n    lastTurn() {\r\n      this.setNotice(\"正在切换至上一轮对话。\");\r\n      if (this.current_turn == 0) return;\r\n      this.current_turn -= 1;\r\n      this.getImages();\r\n    },\r\n    getNextTurn() {\r\n      this.setNotice(\"正在获取下一轮对话。\");\r\n      console.log(this.current_turn);\r\n      console.log(this.full_dialog);\r\n      let next_index = (this.current_turn + 1) * 2;\r\n      console.log(\r\n        \"next index\",\r\n        next_index,\r\n        \"full dialog\",\r\n        this.full_dialog.length\r\n      );\r\n      if (next_index < this.full_dialog.length) {\r\n        this.current_turn += 1;\r\n        this.getImages();\r\n        this.setNotice(\r\n          \"已获取对话，可根据对话在手机上探索，准备好后点击开始录制进行操作录制。\"\r\n        );\r\n      } else {\r\n        this.enable_change_dialog = true;\r\n        this.enable_save = false;\r\n        this.$alert(\"当前对话已经标注完毕，即将跳转到下一个对话。\", \"已完成\", {\r\n          confirmButtonText: \"确定\",\r\n          callback: async () => {\r\n            let response = await net_end_record({ uid: this.current_user });\r\n            if (response[\"status\"] == 1) {\r\n              let first = -1;\r\n              for (let i = 0; i < this.all_dialog.length; i++) {\r\n                let item = this.all_dialog[i];\r\n                if (item.color == \"color-info\" && first == -1) first = i;\r\n              }\r\n              if (first == -1) first = 0;\r\n              this.current_dialog = this.all_dialog[first];\r\n              this.current_dialog_id = this.all_dialog[first].dialog_id;\r\n              this.getDialog();\r\n            }\r\n          },\r\n        });\r\n      }\r\n    },\r\n    async clearInput() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"清除输入执行中\");\r\n      let action = { type: \"clear\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"清除输入执行完毕，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: \"清除输入\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async inputChar(c) {\r\n      if (!this.enable_interact) return;\r\n      let name = \"\";\r\n      if (c == \"space\") name = \"空格\";\r\n      else name = \"回车\";\r\n      this.setNotice(\"输入\" + name);\r\n      let action = { type: c };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"已输入\" + name + \", 请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: name, note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async readBox(box) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"添加读取框中\");\r\n      let action = {\r\n        type: \"read\",\r\n        height: box.height,\r\n        width: box.width,\r\n        top: box.top,\r\n        left: box.left,\r\n      };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      // let response = { status: 1 };\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\"已添加读取框，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"读取\", note: \"\", touch: box };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async inputText(e) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"输入文字执行中\");\r\n      let action = { type: \"input\", text: e };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        // this.getScreenshot();\r\n        this.setNotice(\r\n          \"输入文字完成，输入内容：\" +\r\n            e +\r\n            \"，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: \"输入\", note: e, touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async goBack() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行返回键\");\r\n      let action = { type: \"back\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"返回执行完毕，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"返回\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async home() {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行home键\");\r\n      let action = { type: \"home\" };\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"返回执行完毕，请点击截图按钮或者使用空格键进行截图。\");\r\n        this.last_action = { op: \"返回\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n    async swipe(touch) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"执行滑动操作。\");\r\n      console.log(\"swipe\", touch);\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let action = {\r\n        type: \"swipe\",\r\n        x1: touch.x1,\r\n        y1: touch.y1,\r\n        x2: touch.x2,\r\n        y2: touch.y2,\r\n      };\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        let direction = this.$refs.simulator.swipeDirection(\r\n          touch.x1,\r\n          touch.x2,\r\n          touch.y1,\r\n          touch.y2\r\n        );\r\n        this.setNotice(\r\n          direction + \"滑执行完毕，请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = { op: direction + \"滑\", note: \"\", touch: null };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n\r\n    async singleTap(touch) {\r\n      if (!this.enable_interact) return;\r\n      this.setNotice(\"点击执行中\");\r\n      console.log(\"single tap\", touch);\r\n      this.$refs.simulator.setLoading(true);\r\n      this.enable_interact = false;\r\n      let action = { type: \"click\", x: touch.x1, y: touch.y1 };\r\n      let response = await net_do_action({\r\n        uid: this.current_user,\r\n        action: action,\r\n      });\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\r\n          \"点击执行完毕，点击位置：\" +\r\n            touch.x1 +\r\n            \",\" +\r\n            touch.y1 +\r\n            \",请点击截图按钮或者使用空格键进行截图。\"\r\n        );\r\n        this.last_action = {\r\n          op: \"点击\",\r\n          note: \"点击位置：\" + touch.x1 + \",\" + touch.y1,\r\n          touch: touch,\r\n        };\r\n        this.$refs.simulator.setLoading(false);\r\n        this.enable_interact = true;\r\n        console.log(this.enable_interact);\r\n        console.log(action, \"done\");\r\n      }\r\n    },\r\n\r\n    doubleTap(touch) {\r\n      console.log(\"double tap\", touch);\r\n    },\r\n\r\n    async getScreenshot(t) {\r\n      this.enable_interact = false;\r\n      this.setNotice(\"获取截图中，请勿进行操作。\");\r\n      this.$refs.simulator.setLoading(true);\r\n      let response = await net_get_screenshot({ uid: this.current_user });\r\n      console.log(response);\r\n      if (response[\"status\"] == 1) {\r\n        this.setNotice(\"获取截图完毕，可以进行下一步操作。\");\r\n        this.$refs.simulator.setImage(response[\"screenshot\"]);\r\n        if (t != \"init\")\r\n          this.$refs.imageList.add_image(\r\n            response[\"screenshot\"],\r\n            response[\"screen_id\"],\r\n            this.last_action[\"op\"],\r\n            this.last_action[\"note\"],\r\n            this.last_action[\"touch\"]\r\n          );\r\n        this.$refs.simulator.setLoading(false);\r\n      }\r\n      this.enable_interact = true;\r\n    },\r\n\r\n    update_history(new_msg, isUser) {\r\n      new_msg[\"isUser\"] = isUser;\r\n      this.dialog.push(new_msg);\r\n    },\r\n    async send_message(text, data = null) {\r\n      console.log(\"send\", text);\r\n      let response = await net_get_response({\r\n        message: text,\r\n        data: data,\r\n      });\r\n      console.log(\"receive:\", response);\r\n      // let response = {'response':'收到：'+text,'session':this.$store.state.user.session+'1'};\r\n      if (response[\"status\"] == 1) {\r\n        if (response[\"execute_task\"]) {\r\n          if (!this.playback_status.has_loaded) {\r\n            this.update_history({ text: response[\"response\"] }, false);\r\n            this.status = \"begin to perform task\";\r\n            this.playback_status.has_loaded = true;\r\n            if (this.session_on) {\r\n              this.$refs.simulator.endSession();\r\n            }\r\n            this.$refs.simulator.requestSession();\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.update_history({ text: response[\"response\"] }, false);\r\n        this.status = \"success\";\r\n      } else {\r\n        this.status = \"fail\";\r\n      }\r\n    },\r\n    submit() {\r\n      let text = this.input;\r\n      if (!text) return;\r\n      this.status = \"updating dom\";\r\n      this.input = \"\";\r\n      this.update_history({ text: text }, true);\r\n      this.status = \"sending message\";\r\n      console.log(text);\r\n      // 特殊处理\r\n      if (text.startsWith(\"输入\")) {\r\n        let input_text = text.slice(2);\r\n        console.log(\"输入：\", input_text);\r\n        this.$refs.simulator.pasteText(input_text);\r\n        return;\r\n      }\r\n      this.send_message(text);\r\n    },\r\n  },\r\n  components: {\r\n    Talk,\r\n    ImageSimulator,\r\n    ImageList,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-main {\r\n  background-color: white;\r\n  width: 90%;\r\n  height: 650px;\r\n  border-radius: 10px;\r\n  border: 1px gray solid;\r\n  overflow: hidden;\r\n}\r\n\r\n.dialog-header {\r\n  border-bottom: 1px gray solid;\r\n  height: 30%;\r\n  padding: 5px 0 0 10px;\r\n  overflow: auto;\r\n}\r\n\r\n.dialog-dialog {\r\n  height: 60%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.dialog-input {\r\n  height: 8%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n}\r\n\r\n.dialog-tag {\r\n  height: 30px;\r\n  width: 50px;\r\n  margin: 10px 0 10px 10px;\r\n}\r\n.name-input {\r\n  width: 30%;\r\n}\r\n\r\n.color-success {\r\n  color: #67c23a;\r\n}\r\n.color-info {\r\n  color: #909399;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewDialog.vue?vue&type=template&id=56690cf0&scoped=true&\"\nimport script from \"./NewDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./NewDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewDialog.vue?vue&type=style&index=0&id=56690cf0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56690cf0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <el-container>\r\n        <div class = 'dialogPage-dialog'>\r\n            <Dialog></Dialog>\r\n        </div>\r\n    </el-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Dialog from '../components/Dialog/NewDialog'\r\nexport default {\r\n    components:{\r\n        Dialog\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialogPage-dialog {\r\n    height: 80vh;\r\n    width: 100vw;\r\n    padding: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialogPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialogPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewDialogPage.vue?vue&type=template&id=5f6e4c7b&scoped=true&\"\nimport script from \"./NewDialogPage.vue?vue&type=script&lang=js&\"\nexport * from \"./NewDialogPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewDialogPage.vue?vue&type=style&index=0&id=5f6e4c7b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f6e4c7b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('div',{staticClass:\"dialogPage-dialog\"},[_c('Review')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"dialog-main\"},[_c('div',{staticClass:\"dialog-header\"},[_c('el-select',{attrs:{\"value-key\":\"name\",\"placeholder\":\"对话id\"},on:{\"change\":_vm.getDialog},model:{value:(_vm.current_dialog),callback:function ($$v) {_vm.current_dialog=$$v},expression:\"current_dialog\"}},_vm._l((_vm.dialog_list),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.name))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(item.check_status))])])}),1),_vm._v(\" 当前轮数:\"+_vm._s(_vm.current_turn)+\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.saveImages(1)}}},[_vm._v(\"通过 \"),_c('i',{staticClass:\"el-icon-check\"})]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.saveImages(0)}}},[_vm._v(\"不通过 \"),_c('i',{staticClass:\"el-icon-close\"})])],1),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.lastTurn}},[_vm._v(\" 上一轮 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.nextTurn}},[_vm._v(\" 下一轮 \")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.changeViewMode}},[_vm._v(\"切换审核模式 \"),_c('i',{staticClass:\"el-icon-refresh\"})]),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.changeViewLayout}},[_vm._v(\"切换图片模式 \"),_c('i',{staticClass:\"el-icon-refresh\"})])],1),_c('div',{staticClass:\"dialog-dialog\",attrs:{\"id\":\"dialog-window\"}},_vm._l((_vm.dialog),function(item,index){return _c('Talk',{key:index,attrs:{\"data\":item,\"index\":index,\"selected\":index >= _vm.current_turn * 2 && index <= _vm.current_turn * 2 + 1},on:{\"editTurn\":_vm.editTurn,\"inputFocus\":_vm.setInputFocus}})}),1)],1)]),(_vm.viewmode)?_c('el-col',{attrs:{\"span\":16}},[_c('ImageList',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"imageList\",attrs:{\"bigger\":true}})],1):_vm._e(),(!_vm.viewmode)?_c('el-col',{attrs:{\"span\":10}},[_c('ImageSimulator',{ref:\"simulator\",attrs:{\"image\":_vm.image},on:{\"swipe\":_vm.swipe,\"doubleTap\":_vm.doubleTap,\"singleTap\":_vm.singleTap,\"getScreen\":_vm.getScreenshot,\"goBack\":_vm.goBack,\"input\":_vm.inputText,\"inputFocus\":_vm.setInputFocus,\"clear\":_vm.clearInput,\"read\":_vm.readBox,\"inputChar\":_vm.inputChar}})],1):_vm._e(),(!_vm.viewmode)?_c('el-col',{attrs:{\"span\":6}},[_c('ImageList',{ref:\"imageList\"})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <el-col :span=\"8\">\n      <div class=\"dialog-main\">\n        <div class=\"dialog-header\">\n          <el-select\n            @change=\"getDialog\"\n            v-model=\"current_dialog\"\n            value-key=\"name\"\n            placeholder=\"对话id\"\n          >\n            <el-option\n              v-for=\"(item, index) in dialog_list\"\n              :key=\"index\"\n              :label=\"item.name\"\n              :value=\"item\"\n            >\n              <span style=\"float: left\">{{ item.name }}</span>\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">{{\n                item.check_status\n              }}</span>\n            </el-option>\n          </el-select>\n          当前轮数:{{ current_turn }}\n          <el-button type=\"success\" @click=\"saveImages(1)\"\n            >通过 <i class=\"el-icon-check\"></i\n          ></el-button>\n          <el-button type=\"danger\" @click=\"saveImages(0)\"\n            >不通过 <i class=\"el-icon-close\"></i\n          ></el-button>\n        </div>\n        <el-button-group>\n          <el-button type=\"primary\" @click=\"lastTurn\"> 上一轮 </el-button>\n          <el-button type=\"primary\" @click=\"nextTurn\"> 下一轮 </el-button>\n          <!-- <el-button type=\"danger\" @click=\"endRecording\"\n            >结束录制 <i class=\"el-icon-video-pause\"></i\n          ></el-button> -->\n          <!-- <el-button type=\"success\" @click=\"saveImages\"\n            >保存 <i class=\"el-icon-video-pause\"></i\n          ></el-button> -->\n          <el-button type=\"warning\" @click=\"changeViewMode\"\n            >切换审核模式 <i class=\"el-icon-refresh\"></i\n          ></el-button>\n          <el-button type=\"plain\" @click=\"changeViewLayout\"\n            >切换图片模式 <i class=\"el-icon-refresh\"></i\n          ></el-button>\n        </el-button-group>\n        <div id=\"dialog-window\" class=\"dialog-dialog\">\n          <Talk\n            v-for=\"(item, index) in dialog\"\n            :data=\"item\"\n            :key=\"index\"\n            :index=\"index\"\n            :selected=\"\n              index >= current_turn * 2 && index <= current_turn * 2 + 1\n            \"\n            @editTurn=\"editTurn\"\n            @inputFocus=\"setInputFocus\"\n          ></Talk>\n        </div>\n      </div>\n    </el-col>\n\n    <el-col :span=\"16\" v-if=\"viewmode\">\n      <ImageList ref=\"imageList\" :bigger=\"true\" v-loading=\"loading\"></ImageList>\n    </el-col>\n\n    <el-col :span=\"10\" v-if=\"!viewmode\">\n      <ImageSimulator\n        @swipe=\"swipe\"\n        @doubleTap=\"doubleTap\"\n        @singleTap=\"singleTap\"\n        @getScreen=\"getScreenshot\"\n        @goBack=\"goBack\"\n        @input=\"inputText\"\n        @inputFocus=\"setInputFocus\"\n        @clear=\"clearInput\"\n        @read=\"readBox\"\n        @inputChar=\"inputChar\"\n        :image=\"image\"\n        ref=\"simulator\"\n      ></ImageSimulator>\n    </el-col>\n\n    <el-col :span=\"6\" v-if=\"!viewmode\">\n      <ImageList ref=\"imageList\"></ImageList>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport Talk from \"./Talk\";\nimport ImageSimulator from \"../ImageSimulator.vue\";\nimport ImageList from \"../ImageList.vue\";\nimport {\n  net_get_response,\n  net_do_action,\n  net_get_screenshot,\n  net_save_review,\n  net_reset,\n  net_get_review,\n  net_get_review_dialog,\n} from \"@/network\";\n\n// function sleep(time) {\n//   return new Promise((resolve) => setTimeout(resolve, time));\n// }\n\nexport default {\n  name: \"Dialog\",\n  data() {\n    return {\n      input: \"\",\n      status: \"等待输入\",\n      input_focus: false,\n      dialog: [],\n      full_dialog: [],\n      image: null,\n      enable_interact: false,\n      last_action: {},\n      recording: false,\n      enable_change_dialog: true,\n      enable_save: false,\n      current_dialog_id: null,\n      current_dialog: null,\n      current_user: \"test\",\n      current_turn: 0,\n      dialog_list: [],\n      raw_images: [],\n      layout_images: [],\n      viewmode: true,\n      loading: false,\n      viewLayout: false,\n    };\n  },\n  // updated: function () {\n  //   let body = document.getElementById(\"dialog-window\");\n  //   body.scrollTop = body.scrollHeight;\n  // },\n  async mounted() {\n    // this.send_message(\"reset\");\n    // await net_reset({ uid: this.current_user });\n    await net_reset({ uid: this.current_user });\n    let response = await net_get_review_dialog({ uid: this.current_user });\n    console.log(response);\n    if (response[\"status\"] == 1) {\n      this.setNotice(\"已获取对话。\");\n      let first = -1;\n      for (let i = 0; i < response[\"dialog\"].length; i++) {\n        let item = response[\"dialog\"][i];\n        if (item.check_status == 1) item.check_status = \"通过\";\n        else if (item.check_status == 0) item.check_status = \"未通过\";\n        else {\n          item.check_status = \"\";\n          if (first == -1) first = i;\n        }\n      }\n      if (first == -1) first = 0;\n      this.dialog_list = response[\"dialog\"];\n      this.current_dialog_id = this.dialog_list[first].dialog_id;\n      this.current_dialog = this.dialog_list[first];\n      this.getDialog(this.current_dialog);\n    }\n    document.body.addEventListener(\"keydown\", this.handleSpace);\n  },\n  methods: {\n    changeViewLayout() {\n      this.viewLayout = !this.viewLayout;\n      this.getImages();\n    },\n    changeViewMode() {\n      this.viewmode = !this.viewmode;\n      if (this.viewmode) {\n        this.getImages();\n      }\n    },\n    editTurn(turn_index, text) {\n      let origin = this.dialog[turn_index];\n      origin.text = text;\n      console.log(origin);\n      this.dialog.splice(turn_index, 1, origin);\n    },\n    setInputFocus(focus) {\n      this.input_focus = focus;\n      if (focus) document.body.removeEventListener(\"keydown\", this.handleSpace);\n      else document.body.addEventListener(\"keydown\", this.handleSpace);\n    },\n    handleSpace() {\n      let key = window.event.keyCode;\n      if (key == 32) {\n        window.event.preventDefault();\n        this.$refs.simulator.getScreen();\n      }\n    },\n    setNotice(notice) {\n      if (this.viewmode) return;\n      this.$refs.simulator.setNotice(notice);\n    },\n    async saveImages(result) {\n      let note = \"\";\n      if (result == 1)\n        note =\n          \"将当前对话标记为通过，保存所有标注的图片并加载下一轮对话，是否继续？\";\n      else note = \"将当前对话标记为不通过并加载下一轮对话，是否继续？\";\n      this.$confirm(note, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(async () => {\n        if (result == 1) this.current_dialog.check_status = \"通过\";\n        else this.current_dialog.check_status = \"未通过\";\n        let saved_image = this.$refs.imageList.get_saved_image();\n        let data = {\n          screens: saved_image,\n          dialog: this.dialog,\n          trace: this.current_dialog.name,\n          turn: this.current_turn,\n          check_status: result,\n        };\n        let response = await net_save_review(data);\n        if (response[\"status\"] == 1) {\n          this.setNotice(\"保存成功\");\n          this.nextTurn();\n        }\n      });\n    },\n    async setImage() {\n      this.$refs.imageList.add_image(\n        this.shown_images[0][0],\n        this.shown_images[0][1]\n      );\n      for (let i = 1; i < this.shown_images.length; i++) {\n        await this.$refs.imageList.add_image(\n          this.shown_images[i][0],\n          this.shown_images[i][1],\n          this.action[i - 1][\"action\"],\n          this.action[i - 1][\"text\"],\n          this.action[i - 1]\n        );\n      }\n    },\n    async getImages() {\n      this.$refs.imageList.clear_image();\n      this.loading = true;\n      let params = {\n        uid: this.current_user,\n        dialog: this.current_dialog_id,\n        turn: this.current_turn,\n      };\n      console.log(\"get image\", params);\n      let response = await net_get_review(params);\n      if (response[\"status\"] == 1) {\n        this.raw_images = response[\"image\"];\n        this.layout_images = response[\"layout\"];\n        this.action = response[\"action\"];\n        this.setImage();\n      }\n      this.loading = false;\n    },\n    getDialog(dialog) {\n      this.current_dialog_id = dialog.dialog_id;\n      this.current_dialog = dialog;\n      this.current_turn = 0;\n      this.dialog = [];\n      for (let i = 0; i < this.current_dialog.dialog.length; i++) {\n        let message = this.current_dialog.dialog[i];\n        this.update_history(message, message.isUser);\n      }\n      this.getImages();\n      console.log(\"change to\", this.current_dialog);\n    },\n    lastTurn() {\n      this.setNotice(\"正在切换至上一轮对话。\");\n      if (this.current_turn == 0) return;\n      this.current_turn -= 1;\n      this.getImages();\n    },\n    nextTurn() {\n      this.setNotice(\"正在切换至下一轮对话。\");\n      let next_index = (this.current_turn + 1) * 2;\n      if (next_index < this.current_dialog.dialog.length) {\n        this.current_turn += 1;\n        // 获取下一轮的图片\n        this.getImages();\n      } else {\n        this.enable_save = false;\n        this.$alert(\"当前对话已经检查完毕，即将跳转到下一个对话。\", \"已完成\", {\n          confirmButtonText: \"确定\",\n          callback: () => {\n            let idx = -1;\n            // for (let i = 0; i < this.dialog_list.length; i++)\n            //   if (this.dialog_list[i].dialog_id == this.current_dialog_id) {\n            //     idx = i;\n            //     break;\n            //   }\n            // this.dialog_list.splice(idx, 1);\n            for (let i = 0; i < this.dialog_list.length; i++)\n              if (this.dialog_list[i].check_status == \"\") {\n                idx = i;\n                break;\n              }\n            if (idx == -1) idx = 0;\n            this.current_dialog_id = this.dialog_list[idx].dialog_id;\n            this.current_dialog = this.dialog_list[idx];\n            this.getDialog(this.current_dialog);\n            this.$refs.imageList.clear_image();\n          },\n        });\n      }\n    },\n    async clearInput() {\n      if (!this.enable_interact) return;\n      this.setNotice(\"清除输入执行中\");\n      let action = { type: \"clear\" };\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        // this.getScreenshot();\n        this.setNotice(\n          \"清除输入执行完毕，请点击截图按钮或者使用空格键进行截图。\"\n        );\n        this.last_action = { op: \"清除输入\", note: \"\", touch: null };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n    async inputChar(c) {\n      if (!this.enable_interact) return;\n      let name = \"\";\n      if (c == \"space\") name = \"空格\";\n      else name = \"回车\";\n      this.setNotice(\"输入\" + name);\n      let action = { type: c };\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        // this.getScreenshot();\n        this.setNotice(\n          \"已输入\" + name + \", 请点击截图按钮或者使用空格键进行截图。\"\n        );\n        this.last_action = { op: name, note: \"\", touch: null };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n    async readBox(box) {\n      if (!this.enable_interact) return;\n      this.setNotice(\"添加读取框中\");\n      let action = {\n        type: \"read\",\n        height: box.height,\n        width: box.width,\n        top: box.top,\n        left: box.left,\n      };\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      // let response = { status: 1 };\n      if (response[\"status\"] == 1) {\n        // this.getScreenshot();\n        this.setNotice(\"已添加读取框，请点击截图按钮或者使用空格键进行截图。\");\n        this.last_action = { op: \"读取\", note: \"\", touch: box };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n    async inputText(e) {\n      if (!this.enable_interact) return;\n      this.setNotice(\"输入文字执行中\");\n      let action = { type: \"input\", text: e };\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        // this.getScreenshot();\n        this.setNotice(\n          \"输入文字完成，输入内容：\" +\n            e +\n            \"，请点击截图按钮或者使用空格键进行截图。\"\n        );\n        this.last_action = { op: \"输入\", note: e, touch: null };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n    async goBack() {\n      if (!this.enable_interact) return;\n      this.setNotice(\"执行返回键\");\n      let action = { type: \"back\" };\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        this.setNotice(\"返回执行完毕，请点击截图按钮或者使用空格键进行截图。\");\n        this.last_action = { op: \"返回\", note: \"\", touch: null };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n    async swipe(touch) {\n      if (!this.enable_interact) return;\n      this.setNotice(\"执行滑动操作。\");\n      console.log(\"swipe\", touch);\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let action = {\n        type: \"swipe\",\n        x1: touch.x1,\n        y1: touch.y1,\n        x2: touch.x2,\n        y2: touch.y2,\n      };\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        let direction = this.$refs.simulator.swipeDirection(\n          touch.x1,\n          touch.x2,\n          touch.y1,\n          touch.y2\n        );\n        this.setNotice(\n          direction + \"滑执行完毕，请点击截图按钮或者使用空格键进行截图。\"\n        );\n        this.last_action = { op: direction + \"滑\", note: \"\", touch: null };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(action, \"done\");\n      }\n    },\n\n    async singleTap(touch) {\n      if (!this.enable_interact) return;\n      this.setNotice(\"点击执行中\");\n      console.log(\"single tap\", touch);\n      this.$refs.simulator.setLoading(true);\n      this.enable_interact = false;\n      let action = { type: \"click\", x: touch.x1, y: touch.y1 };\n      let response = await net_do_action({\n        uid: this.current_user,\n        action: action,\n      });\n      if (response[\"status\"] == 1) {\n        this.setNotice(\n          \"点击执行完毕，点击位置：\" +\n            touch.x1 +\n            \",\" +\n            touch.y1 +\n            \",请点击截图按钮或者使用空格键进行截图。\"\n        );\n        this.last_action = {\n          op: \"点击\",\n          note: \"点击位置：\" + touch.x1 + \",\" + touch.y1,\n          touch: touch,\n        };\n        this.$refs.simulator.setLoading(false);\n        this.enable_interact = true;\n        console.log(this.enable_interact);\n        console.log(action, \"done\");\n      }\n    },\n\n    doubleTap(touch) {\n      console.log(\"double tap\", touch);\n    },\n\n    async getScreenshot() {\n      if (this.viewmode) return;\n      this.enable_interact = false;\n      this.setNotice(\"获取截图中，请勿进行操作。\");\n      this.$refs.simulator.setLoading(true);\n      let response = await net_get_screenshot({ uid: this.current_user });\n      console.log(response);\n      if (response[\"status\"] == 1) {\n        this.setNotice(\"获取截图完毕，可以进行下一步操作。\");\n        this.$refs.simulator.setImage(response[\"screenshot\"]);\n        this.$refs.imageList.add_image(\n          response[\"screenshot\"],\n          response[\"screen_id\"],\n          this.last_action[\"op\"],\n          this.last_action[\"note\"],\n          this.last_action[\"touch\"]\n        );\n        this.$refs.simulator.setLoading(false);\n      }\n      this.enable_interact = true;\n    },\n\n    update_history(new_msg, isUser) {\n      new_msg[\"isUser\"] = isUser;\n      this.dialog.push(new_msg);\n    },\n    async send_message(text, data = null) {\n      console.log(\"send\", text);\n      let response = await net_get_response({\n        message: text,\n        data: data,\n      });\n      console.log(\"receive:\", response);\n      // let response = {'response':'收到：'+text,'session':this.$store.state.user.session+'1'};\n      if (response[\"status\"] == 1) {\n        if (response[\"execute_task\"]) {\n          if (!this.playback_status.has_loaded) {\n            this.update_history({ text: response[\"response\"] }, false);\n            this.status = \"begin to perform task\";\n            this.playback_status.has_loaded = true;\n            if (this.session_on) {\n              this.$refs.simulator.endSession();\n            }\n            this.$refs.simulator.requestSession();\n          }\n          return;\n        }\n\n        this.update_history({ text: response[\"response\"] }, false);\n        this.status = \"success\";\n      } else {\n        this.status = \"fail\";\n      }\n    },\n    submit() {\n      let text = this.input;\n      if (!text) return;\n      this.status = \"updating dom\";\n      this.input = \"\";\n      this.update_history({ text: text }, true);\n      this.status = \"sending message\";\n      console.log(text);\n      // 特殊处理\n      if (text.startsWith(\"输入\")) {\n        let input_text = text.slice(2);\n        console.log(\"输入：\", input_text);\n        this.$refs.simulator.pasteText(input_text);\n        return;\n      }\n      this.send_message(text);\n    },\n  },\n  computed: {\n    shown_images() {\n      if (this.viewLayout) return this.layout_images;\n      else return this.raw_images;\n    },\n  },\n  components: {\n    Talk,\n    ImageSimulator,\n    ImageList,\n  },\n};\n</script>\n\n<style scoped>\n.dialog-main {\n  background-color: white;\n  width: 90%;\n  height: 650px;\n  border-radius: 10px;\n  border: 1px gray solid;\n  overflow: hidden;\n}\n\n.dialog-header {\n  border-bottom: 1px gray solid;\n  height: 8%;\n  padding: 5px 0 0 10px;\n}\n\n.dialog-dialog {\n  height: 84%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.dialog-input {\n  height: 8%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.dialog-tag {\n  height: 30px;\n  width: 50px;\n  margin: 10px 0 10px 10px;\n}\n.name-input {\n  width: 30%;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Review.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Review.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Review.vue?vue&type=template&id=a2740d76&scoped=true&\"\nimport script from \"./Review.vue?vue&type=script&lang=js&\"\nexport * from \"./Review.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Review.vue?vue&type=style&index=0&id=a2740d76&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2740d76\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <el-container>\n        <div class = 'dialogPage-dialog'>\n            <Review></Review>\n        </div>\n    </el-container>\n</template>\n\n\n<script>\nimport Review from '../components/Dialog/Review'\nexport default {\n    components:{\n        Review\n    }\n}\n</script>\n\n<style scoped>\n.dialogPage-dialog {\n    height: 80vh;\n    width: 100vw;\n    padding: 50px;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ReviewPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ReviewPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReviewPage.vue?vue&type=template&id=a8bef2b2&scoped=true&\"\nimport script from \"./ReviewPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ReviewPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReviewPage.vue?vue&type=style&index=0&id=a8bef2b2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a8bef2b2\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Base from './views/Base.vue'\r\nimport DialogPage from './views/DialogPage'\r\nimport NewDialogPage from './views/NewDialogPage'\r\nimport ReviewPage from './views/ReviewPage'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n    routes: [{\r\n        path: '/',\r\n        name: 'Base',\r\n        component: Base,\r\n        children: [\r\n            {\r\n                path: '/dialog',\r\n                name: 'DialogPage',\r\n                component: DialogPage\r\n            }, {\r\n                path: 'review',\r\n                name: 'ReviewPage',\r\n                component: ReviewPage\r\n            },{\r\n                path: 'new',\r\n                name: 'NewDialogPage',\r\n                component: NewDialogPage\r\n            }]\r\n    }]\r\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store/index'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nVue.use(ElementUI)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n    router,\r\n    store,\r\n    render: h => h(App)\r\n}).$mount('#app')","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ReviewPage.vue?vue&type=style&index=0&id=a8bef2b2&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=9f2560f8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSelector.vue?vue&type=style&index=0&id=41a1cdba&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Review.vue?vue&type=style&index=0&id=a2740d76&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./UserTalk.vue?vue&type=style&index=0&id=71b96a5f&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageSimulator.vue?vue&type=style&index=0&id=67f07784&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./DialogPage.vue?vue&type=style&index=0&id=38a42067&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./SysTalk.vue?vue&type=style&index=0&id=d7e13760&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./ImageList.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./NewDialog.vue?vue&type=style&index=0&id=56690cf0&scoped=true&lang=css&\""],"sourceRoot":""}